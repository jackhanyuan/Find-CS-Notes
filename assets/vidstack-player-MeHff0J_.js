import{H as w,M as y,u as H,e as c,s as i,c as f,a as $,d as N}from"./vidstack-UGaMhNs3-oMaa63Ea.js";import"./app-vmUhBKiq.js";const d=class d extends w(HTMLElement,y){constructor(){super(...arguments),this.wa=null,this.Na=null}onSetup(){this.h=H(),this.setAttribute("keep-alive","")}onDestroy(){var t,e;(t=this.Na)==null||t.remove(),this.Na=null,(e=this.wa)==null||e.remove(),this.wa=null}onConnect(){c(()=>{var n,r,m;const t=this.$state.loader(),e=t==null?void 0:t.canPlay({src:"",type:"video/youtube"}),o=t==null?void 0:t.canPlay({src:"",type:"video/vimeo"}),a=e||o,s=t?a?this.Oa():t.mediaType()==="audio"?this.Pa():this.Qa():null;if(this.wa!==s){const b=((n=this.wa)==null?void 0:n.parentElement)??this;(r=this.wa)==null||r.remove(),this.wa=s,s&&b.prepend(s),a&&s&&c(()=>{var v;const{$iosControls:E}=this.h,{controls:L}=this.h.$state,p=L()||E();p?((v=this.Na)==null||v.remove(),this.Na=null):(this.Na=this.querySelector(".vds-blocker")??document.createElement("div"),this.Na.classList.add("vds-blocker"),s.after(this.Na)),i(s,"data-no-controls",!p)})}e?s==null||s.classList.add("vds-youtube"):o&&(s==null||s.classList.add("vds-vimeo")),a||((m=this.Na)==null||m.remove(),this.Na=null),this.load(s)})}Pa(){const t=this.wa instanceof HTMLAudioElement?this.wa:document.createElement("audio");i(t,"preload","none"),i(t,"aria-hidden","true");const{controls:e,crossorigin:o}=this.h.$state;return c(()=>{i(t,"controls",e()),i(t,"crossorigin",o())}),t}Qa(){const t=this.wa instanceof HTMLVideoElement?this.wa:document.createElement("video"),{controls:e,crossorigin:o,poster:a}=this.h.$state,{$iosControls:s}=this.h,n=f(()=>e()||s()?"":null),r=f(()=>a()&&(e()||s())?a():null);return c(()=>{i(t,"controls",n()),i(t,"crossorigin",o()),i(t,"poster",r())}),t}Oa(){return this.wa instanceof HTMLIFrameElement?this.wa:document.createElement("iframe")}};d.tagName="media-provider";let l=d;const h=class h extends w(HTMLElement,$){};h.tagName="media-player",h.attrs={preferNativeHLS:"prefer-native-hls"};let u=h;N(u);N(l);
