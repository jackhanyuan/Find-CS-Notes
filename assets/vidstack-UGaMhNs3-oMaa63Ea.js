var ur=Object.defineProperty;var dr=Object.getPrototypeOf;var fr=Reflect.get;var pr=(i,t,e)=>t in i?ur(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var $=(i,t,e)=>(pr(i,typeof t!="symbol"?t+"":t,e),e);var Ze=(i,t,e)=>fr(dr(i),e,t);import{_ as ut}from"./app-vmUhBKiq.js";const X=Symbol(0);let ye=!1,hs=!1,et=null,Dt=null,Y=null,V=0,jt=[],ks={};const mr=()=>{},Nt=0,Tn=1,Yt=2,Fe=3;function gr(){ye=!0,queueMicrotask(kn)}function kn(){if(!jt.length){ye=!1;return}hs=!0;for(let i=0;i<jt.length;i++)jt[i].$st!==Nt&&br(jt[i]);jt=[],ye=!1,hs=!1}function br(i){let t=[i];for(;i=i[X];)i.$e&&i.$st!==Nt&&t.push(i);for(let e=t.length-1;e>=0;e--)Cs(t[e])}function xn(i){const t=$e();return ae(t,i.length?i.bind(null,re.bind(t)):i,null)}function d(i){return ae(et,i,null)}function yr(i){return ae(null,i,null)}function mt(){hs||kn()}function He(){return et}function _(i,t){try{return ae(t,i,null)}catch(e){xs(t,e);return}}function En(i,t=et){return t==null?void 0:t.$cx[i]}function $r(i,t,e=et){e&&(e.$cx={...e.$cx,[i]:t})}function k(i){if(!i||!et)return i||mr;const t=et;return t.$d?Array.isArray(t.$d)?t.$d.push(i):t.$d=[t.$d,i]:t.$d=i,function(){t.$st!==Fe&&(i.call(null),Ve(t.$d)?t.$d=null:Array.isArray(t.$d)&&t.$d.splice(t.$d.indexOf(i),1))}}function re(i=!0){if(this.$st===Fe)return;let t=i?this.$ps||this[X]:this,e=this.$ns,s=null;for(;e&&e[X]===this;)re.call(e,!0),Si(e),s=e.$ns,e.$ns=null,e=s;i&&Si(this),e&&(e.$ps=i?this.$ps:this),t&&(t.$ns=e)}function Si(i){i.$st=Fe,i.$d&&Sn(i),i.$s&&pe(i,0),i.$ps&&(i.$ps.$ns=null),i[X]=null,i.$s=null,i.$o=null,i.$ps=null,i.$cx=ks,i.$eh=null}function Sn(i){try{if(Array.isArray(i.$d))for(let t=i.$d.length-1;t>=0;t--){const e=i.$d[t];e.call(e)}else i.$d.call(i.$d);i.$d=null}catch(t){xs(i,t)}}function ae(i,t,e){const s=et,n=Dt;et=i,Dt=e;try{return t.call(i)}finally{et=s,Dt=n}}function xs(i,t){if(!i||!i.$eh)throw t;let e=0,s=i.$eh.length,n=Pi(t);for(e=0;e<s;e++)try{i.$eh[e](n);break}catch(r){n=Pi(r)}if(e===s)throw n}function Pi(i){return i instanceof Error?i:Error(JSON.stringify(i))}function Es(){return this.$st===Fe?this.$v:(Dt&&!this.$e&&(!Y&&Dt.$s&&Dt.$s[V]==this?V++:Y?Y.push(this):Y=[this]),this.$c&&Cs(this),this.$v)}function Pn(i){const t=Ve(i)?i(this.$v):i;if(this.$ch(this.$v,t)&&(this.$v=t,this.$o))for(let e=0;e<this.$o.length;e++)On(this.$o[e],Yt);return this.$v}const Ss=function(){this[X]=null,this.$ns=null,this.$ps=null,et&&et.append(this)},Ct=Ss.prototype;Ct.$cx=ks;Ct.$eh=null;Ct.$c=null;Ct.$d=null;Ct.append=function(i){if(i[X]=this,i.$ps=this,this.$ns)if(i.$ns){let t=i.$ns;for(;t.$ns;)t=t.$ns;t.$ns=this.$ns,this.$ns.$ps=t}else i.$ns=this.$ns,this.$ns.$ps=i;this.$ns=i,i.$cx=i.$cx===ks?this.$cx:{...this.$cx,...i.$cx},this.$eh&&(i.$eh=i.$eh?[...i.$eh,...this.$eh]:this.$eh)};Ct.dispose=function(){re.call(this)};function $e(){return new Ss}const An=function(t,e,s){Ss.call(this),this.$st=e?Yt:Nt,this.$i=!1,this.$e=!1,this.$s=null,this.$o=null,this.$v=t,e&&(this.$c=e),s&&s.dirty&&(this.$ch=s.dirty)},Ps=An.prototype;Object.setPrototypeOf(Ps,Ct);Ps.$ch=wr;Ps.call=Es;function As(i,t,e){return new An(i,t,e)}function wr(i,t){return i!==t}function Ve(i){return typeof i=="function"}function Cs(i){if(i.$st===Tn)for(let t=0;t<i.$s.length&&(Cs(i.$s[t]),i.$st!==Yt);t++);i.$st===Yt?Cn(i):i.$st=Nt}function Ai(i){i.$ns&&i.$ns[X]===i&&re.call(i,!1),i.$d&&Sn(i),i.$eh=i[X]?i[X].$eh:null}function Cn(i){let t=Y,e=V;Y=null,V=0;try{Ai(i);const s=ae(i,i.$c,i);if(Y){if(i.$s&&pe(i,V),i.$s&&V>0){i.$s.length=V+Y.length;for(let r=0;r<Y.length;r++)i.$s[V+r]=Y[r]}else i.$s=Y;let n;for(let r=V;r<i.$s.length;r++)n=i.$s[r],n.$o?n.$o.push(i):n.$o=[i]}else i.$s&&V<i.$s.length&&(pe(i,V),i.$s.length=V);!i.$e&&i.$i?Pn.call(i,s):(i.$v=s,i.$i=!0)}catch(s){xs(i,s),i.$st===Yt&&(Ai(i),i.$s&&pe(i,0));return}Y=t,V=e,i.$st=Nt}function On(i,t){if(!(i.$st>=t)&&(i.$e&&i.$st===Nt&&(jt.push(i),ye||gr()),i.$st=t,i.$o))for(let e=0;e<i.$o.length;e++)On(i.$o[e],Tn)}function pe(i,t){let e,s;for(let n=t;n<i.$s.length;n++)e=i.$s[n],e.$o&&(s=e.$o.indexOf(i),e.$o[s]=e.$o[e.$o.length-1],e.$o.pop())}function Os(...i){}function $t(i){return i===null}function U(i){return typeof i>"u"}function Ko(i){return $t(i)||U(i)}function Bo(i){return(i==null?void 0:i.constructor)===Object}function we(i){return typeof i=="number"&&!Number.isNaN(i)}function D(i){return typeof i=="string"}function Qo(i){return typeof i=="boolean"}function lt(i){return typeof i=="function"}function Z(i){return Array.isArray(i)}const vr=Event,Mn=Symbol("DOM_EVENT");var Vo;class M extends vr{constructor(e,...s){var r,a;super(e,s[0]);$(this,Vo,!0);$(this,"detail");$(this,"triggers",new Tr);this.detail=(r=s[0])==null?void 0:r.detail;const n=(a=s[0])==null?void 0:a.trigger;n&&this.triggers.add(n)}get trigger(){return this.triggers.source}get originEvent(){return this.triggers.origin}get isOriginTrusted(){var e;return((e=this.triggers.origin)==null?void 0:e.isTrusted)??!1}}Vo=Mn;class Tr{constructor(){$(this,"chain",[])}get source(){return this.chain[0]}get origin(){return this.chain[this.chain.length-1]}add(t){this.chain.push(t),kr(t)&&this.chain.push(...t.triggers)}remove(t){return this.chain.splice(this.chain.indexOf(t),1)[0]}has(t){return this.chain.some(e=>e===t)}hasType(t){return!!this.findType(t)}findType(t){return this.chain.find(e=>e.type===t)}walk(t){for(const e of this.chain){const s=t(e);if(s)return[e,s]}}[Symbol.iterator](){return this.chain.values()}}function kr(i){return!!(i!=null&&i[Mn])}class Ms extends EventTarget{constructor(){super(...arguments);$(this,"$ts__events")}addEventListener(e,s,n){return super.addEventListener(e,s,n)}removeEventListener(e,s,n){return super.removeEventListener(e,s,n)}}function p(i,t,e,s){return i.addEventListener(t,e,s),k(()=>i.removeEventListener(t,e,s))}function Ci(i){return!!(i!=null&&i.type.startsWith("pointer"))}function me(i){return!!(i!=null&&i.type.startsWith("touch"))}function xr(i){return/^(click|mouse)/.test((i==null?void 0:i.type)??"")}function ve(i){return!!(i!=null&&i.type.startsWith("key"))}function Ln(i){return ve(i)&&(i.key==="Enter"||i.key===" ")}function T(i,t,e){if(i)if(!e&&e!==""&&e!==0)i.removeAttribute(t);else{const s=e===!0?"":e+"";i.getAttribute(t)!==s&&i.setAttribute(t,s)}else return}function z(i,t,e){if(i)!e&&e!==0?i.style.removeProperty(t):i.style.setProperty(t,e+"");else return}function w(i,t){const e=As(i,null,t),s=Es.bind(e);return s[X]=!0,s.set=Pn.bind(e),s}function Er(i){return Ve(i)&&X in i}function Ot(i,t){const e=As(t==null?void 0:t.initial,i,t),s=Es.bind(e);return s[X]=!0,s}function Sr(i,t){const e=As(null,function(){let n=i();return Ve(n)&&k(n),null},void 0);return e.$e=!0,Cn(e),re.bind(e,!0)}function Pr(i){return Er(i)&&"set"in i}const l=Sr;function wt(i){return{id:Symbol(),provide:i}}function J(i,t,e=He()){var n;const s=!U(t);$r(i.id,s?t:(n=i.provide)==null?void 0:n.call(i),e)}function L(i){return En(i.id)}function at(i){return!U(En(i.id))}const zt=Symbol(0),Wt=Symbol(0),jn=Symbol(0),Xe={};var Uo;class Ar{constructor(t,e,s){$(this,"$ts__events");$(this,"$ts__vars");$(this,Uo,null);$(this,"$el",w(null));$(this,"p",null);$(this,"d",null);$(this,"e",null);$(this,"g",null);$(this,"q",null);$(this,"c",!1);$(this,"f",Xe);$(this,"x",null);$(this,"y",null);$(this,"z");$(this,"h");$(this,"B",[]);$(this,"C",[]);$(this,"A",[]);$(this,"D",[]);var a;this.d=e,s!=null&&s.scope&&s.scope.append(e);let n=t.state,r=t.props;if(n&&(this.h=n.create(),this.z=new Proxy(this.h,{get:(h,o)=>this.h[o]()}),J(n,this.h)),r&&(this.f=Cr(r),s!=null&&s.props))for(const h of Object.keys(s.props))(a=this.f[h])==null||a.set(s.props[h]);k(this.l.bind(this))}m(){_(()=>{for(const t of this.B)t()},this.d)}n(t){this.p||(this.p=t,this.$el.set(t),_(()=>{this.e=$e(),_(()=>{for(const e of this.C)e(this.p);this.E(),this.F()},this.e)},this.d),t.dispatchEvent(new Event("attached")))}u(){var t;(t=this.e)==null||t.dispose(),this.e=null,this.g=null,this.p=null,this.$el.set(null)}j(){!this.p||!this.e||!this.A.length||_(()=>{this.g=$e(),_(()=>{for(const t of this.A)t(this.p)},this.g)},this.e)}k(){var t;(t=this.g)==null||t.dispose(),this.g=null}l(){if(this.c)return;this.c=!0,_(()=>{for(const e of this.D)e(this.p)},this.d);const t=this.p;this.u(),this.d.dispose(),this.B.length=0,this.C.length=0,this.A.length=0,this.D.length=0,this.q=null,this.x=null,this.y=null,this.f=Xe,this.d=null,this.z=Xe,this.h=null,t&&delete t.$}i(t){t.onSetup&&this.B.push(t.onSetup.bind(t)),t.onAttach&&this.C.push(t.onAttach.bind(t)),t.onConnect&&this.A.push(t.onConnect.bind(t)),t.onDestroy&&this.D.push(t.onDestroy.bind(t))}E(){if(this.x)for(const t of Object.keys(this.x))lt(this.x[t])?l(this.G.bind(this,t)):T(this.p,t,this.x[t])}F(){if(this.y)for(const t of Object.keys(this.y))lt(this.y[t])?l(this.H.bind(this,t)):z(this.p,t,this.y[t])}G(t){T(this.p,t,this.x[t].call(this.q))}H(t){z(this.p,t,this.y[t].call(this.q))}}Uo=jn;function Cr(i){const t={};for(const e of Object.keys(i)){const s=i[e];t[e]=w(s,s)}return t}let Kt={$$:null};function Or(i,t){return xn(()=>{Kt.$$=new Ar(i,He(),t);const e=new i;return Kt.$$.q=e,Kt.$$=null,e})}class st extends EventTarget{constructor(){super();$(this,"$$");Kt.$$&&this.attach(Kt)}get el(){return this.$$.p}get $el(){return this.$$.$el()}get scope(){return this.$$.d}get attachScope(){return this.$$.e}get connectScope(){return this.$$.g}get $props(){return this.$$.f}get $state(){return this.$$.h}get state(){return this.$$.z}attach({$$:e}){return this.$$=e,e.i(this),this}addEventListener(e,s,n){this.listen(e,s,n)}removeEventListener(e,s,n){var r;(r=this.el)==null||r.removeEventListener(e,s,n)}setAttributes(e){this.$$.x||(this.$$.x={}),Object.assign(this.$$.x,e)}setStyles(e){this.$$.y||(this.$$.y={}),Object.assign(this.$$.y,e)}setCSSVars(e){this.setStyles(e)}createEvent(e,...s){return new M(e,s[0])}dispatch(e,...s){if(!this.el)return!1;const n=e instanceof Event?e:new M(e,s[0]);return Object.defineProperty(n,"target",{get:()=>this.$$.q}),yr(()=>{var r,a;return(a=(r=this.$$)[jn])==null||a.call(r,n),this.el.dispatchEvent(n)})}dispatchEvent(e){return this.dispatch(e)}listen(e,s,n){return this.el?p(this.el,e,s,n):Os}}class y extends st{subscribe(t){return _(()=>l(()=>t(this.state)),this.$$.d)}destroy(){this.$$.l()}}function b(i,t,e){i[zt]||(i[zt]=new Set),i[zt].add(t)}function I(i,t,e){i[Wt]||(i[Wt]=new Set),i[Wt].add(t)}class Mt{constructor(t){$(this,"id",Symbol(0));$(this,"record");$(this,"I");this.record=t,this.I=Object.getOwnPropertyDescriptors(t)}create(){const t={},e=new Proxy(t,{get:(s,n)=>t[n]()});for(const s of Object.keys(this.record)){const n=this.I[s].get;t[s]=n?Ot(n.bind(e)):w(this.record[s])}return t}reset(t,e){for(const s of Object.keys(t))!this.I[s].get&&(!e||e(s))&&t[s].set(this.record[s])}}function Ue(i){return L(i)}function Mr(i,t){for(const e of i)e(t)}function Ls(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Dn(i){return i.replace(/-./g,t=>t[1].toUpperCase())}function Lr(i){return i.charAt(0).toUpperCase()+i.slice(1)}function jr(i){return lt(i)?i():i}function Te(i){return i?"true":"false"}function In(){const i=new Set;return{add(...t){for(const e of t)i.add(e)},empty(){for(const t of i)t();i.clear()}}}function Yo(){const i=In();return k(i.empty),i}function os(){let i,t;return{promise:new Promise((s,n)=>{i=s,t=n}),resolve:i,reject:t}}function Dr(i){return new Promise(t=>setTimeout(t,i))}function he(i){let t=-1,e;function s(...n){e=n,!(t>=0)&&(t=window.requestAnimationFrame(()=>{i.apply(this,e),t=-1,e=void 0}))}return s}const Ir=typeof window<"u"?"requestIdleCallback"in window?window.requestIdleCallback:i=>window.setTimeout(i,1):Os;function Rr(i,t){return new Promise(e=>{Ir(s=>{i==null||i(s),e()},t)})}const cs=Math.min,It=Math.max,ke=Math.round,ue=Math.floor,gt=i=>({x:i,y:i});function Rn(i){return i.split("-")[0]}function _r(i){return i.split("-")[1]}function qr(i){return i==="x"?"y":"x"}function Nr(i){return i==="y"?"height":"width"}function _n(i){return["top","bottom"].includes(Rn(i))?"y":"x"}function Fr(i){return qr(_n(i))}function qn(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}function Oi(i,t,e){let{reference:s,floating:n}=i;const r=_n(t),a=Fr(t),h=Nr(a),o=Rn(t),c=r==="y",u=s.x+s.width/2-n.width/2,f=s.y+s.height/2-n.height/2,m=s[h]/2-n[h]/2;let g;switch(o){case"top":g={x:u,y:s.y-n.height};break;case"bottom":g={x:u,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-n.width,y:f};break;default:g={x:s.x,y:s.y}}switch(_r(t)){case"start":g[a]-=m*(e&&c?-1:1);break;case"end":g[a]+=m*(e&&c?-1:1);break}return g}const Hr=async(i,t,e)=>{const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:a}=e,h=r.filter(Boolean),o=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:i,floating:t,strategy:n}),{x:u,y:f}=Oi(c,s,o),m=s,g={},P=0;for(let A=0;A<h.length;A++){const{name:B,fn:j}=h[A],{x:it,y:vt,data:le,reset:nt}=await j({x:u,y:f,initialPlacement:s,placement:m,strategy:n,middlewareData:g,rects:c,platform:a,elements:{reference:i,floating:t}});if(u=it??u,f=vt??f,g={...g,[B]:{...g[B],...le}},nt&&P<=50){P++,typeof nt=="object"&&(nt.placement&&(m=nt.placement),nt.rects&&(c=nt.rects===!0?await a.getElementRects({reference:i,floating:t,strategy:n}):nt.rects),{x:u,y:f}=Oi(c,m,o)),A=-1;continue}}return{x:u,y:f,placement:m,strategy:n,middlewareData:g}};function bt(i){return Nn(i)?(i.nodeName||"").toLowerCase():"#document"}function W(i){var t;return(i==null||(t=i.ownerDocument)==null?void 0:t.defaultView)||window}function ft(i){var t;return(t=(Nn(i)?i.ownerDocument:i.document)||window.document)==null?void 0:t.documentElement}function Nn(i){return i instanceof Node||i instanceof W(i).Node}function dt(i){return i instanceof Element||i instanceof W(i).Element}function rt(i){return i instanceof HTMLElement||i instanceof W(i).HTMLElement}function Mi(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof W(i).ShadowRoot}function oe(i){const{overflow:t,overflowX:e,overflowY:s,display:n}=G(i);return/auto|scroll|overlay|hidden|clip/.test(t+s+e)&&!["inline","contents"].includes(n)}function Vr(i){return["table","td","th"].includes(bt(i))}function js(i){const t=Ds(),e=G(i);return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(e.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(e.contain||"").includes(s))}function Ur(i){let t=_t(i);for(;rt(t)&&!ze(t);){if(js(t))return t;t=_t(t)}return null}function Ds(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ze(i){return["html","body","#document"].includes(bt(i))}function G(i){return W(i).getComputedStyle(i)}function We(i){return dt(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function _t(i){if(bt(i)==="html")return i;const t=i.assignedSlot||i.parentNode||Mi(i)&&i.host||ft(i);return Mi(t)?t.host:t}function Fn(i){const t=_t(i);return ze(t)?i.ownerDocument?i.ownerDocument.body:i.body:rt(t)&&oe(t)?t:Fn(t)}function Zt(i,t,e){var s;t===void 0&&(t=[]),e===void 0&&(e=!0);const n=Fn(i),r=n===((s=i.ownerDocument)==null?void 0:s.body),a=W(n);return r?t.concat(a,a.visualViewport||[],oe(n)?n:[],a.frameElement&&e?Zt(a.frameElement):[]):t.concat(n,Zt(n,[],e))}function Hn(i){const t=G(i);let e=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const n=rt(i),r=n?i.offsetWidth:e,a=n?i.offsetHeight:s,h=ke(e)!==r||ke(s)!==a;return h&&(e=r,s=a),{width:e,height:s,$:h}}function Is(i){return dt(i)?i:i.contextElement}function Rt(i){const t=Is(i);if(!rt(t))return gt(1);const e=t.getBoundingClientRect(),{width:s,height:n,$:r}=Hn(t);let a=(r?ke(e.width):e.width)/s,h=(r?ke(e.height):e.height)/n;return(!a||!Number.isFinite(a))&&(a=1),(!h||!Number.isFinite(h))&&(h=1),{x:a,y:h}}const zr=gt(0);function Vn(i){const t=W(i);return!Ds()||!t.visualViewport?zr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Wr(i,t,e){return t===void 0&&(t=!1),!e||t&&e!==W(i)?!1:t}function Et(i,t,e,s){t===void 0&&(t=!1),e===void 0&&(e=!1);const n=i.getBoundingClientRect(),r=Is(i);let a=gt(1);t&&(s?dt(s)&&(a=Rt(s)):a=Rt(i));const h=Wr(r,e,s)?Vn(r):gt(0);let o=(n.left+h.x)/a.x,c=(n.top+h.y)/a.y,u=n.width/a.x,f=n.height/a.y;if(r){const m=W(r),g=s&&dt(s)?W(s):s;let P=m.frameElement;for(;P&&s&&g!==m;){const A=Rt(P),B=P.getBoundingClientRect(),j=G(P),it=B.left+(P.clientLeft+parseFloat(j.paddingLeft))*A.x,vt=B.top+(P.clientTop+parseFloat(j.paddingTop))*A.y;o*=A.x,c*=A.y,u*=A.x,f*=A.y,o+=it,c+=vt,P=W(P).frameElement}}return qn({width:u,height:f,x:o,y:c})}function Kr(i){let{rect:t,offsetParent:e,strategy:s}=i;const n=rt(e),r=ft(e);if(e===r)return t;let a={scrollLeft:0,scrollTop:0},h=gt(1);const o=gt(0);if((n||!n&&s!=="fixed")&&((bt(e)!=="body"||oe(r))&&(a=We(e)),rt(e))){const c=Et(e);h=Rt(e),o.x=c.x+e.clientLeft,o.y=c.y+e.clientTop}return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-a.scrollLeft*h.x+o.x,y:t.y*h.y-a.scrollTop*h.y+o.y}}function Br(i){return Array.from(i.getClientRects())}function Un(i){return Et(ft(i)).left+We(i).scrollLeft}function Qr(i){const t=ft(i),e=We(i),s=i.ownerDocument.body,n=It(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),r=It(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let a=-e.scrollLeft+Un(i);const h=-e.scrollTop;return G(s).direction==="rtl"&&(a+=It(t.clientWidth,s.clientWidth)-n),{width:n,height:r,x:a,y:h}}function Yr(i,t){const e=W(i),s=ft(i),n=e.visualViewport;let r=s.clientWidth,a=s.clientHeight,h=0,o=0;if(n){r=n.width,a=n.height;const c=Ds();(!c||c&&t==="fixed")&&(h=n.offsetLeft,o=n.offsetTop)}return{width:r,height:a,x:h,y:o}}function Zr(i,t){const e=Et(i,!0,t==="fixed"),s=e.top+i.clientTop,n=e.left+i.clientLeft,r=rt(i)?Rt(i):gt(1),a=i.clientWidth*r.x,h=i.clientHeight*r.y,o=n*r.x,c=s*r.y;return{width:a,height:h,x:o,y:c}}function Li(i,t,e){let s;if(t==="viewport")s=Yr(i,e);else if(t==="document")s=Qr(ft(i));else if(dt(t))s=Zr(t,e);else{const n=Vn(i);s={...t,x:t.x-n.x,y:t.y-n.y}}return qn(s)}function zn(i,t){const e=_t(i);return e===t||!dt(e)||ze(e)?!1:G(e).position==="fixed"||zn(e,t)}function Xr(i,t){const e=t.get(i);if(e)return e;let s=Zt(i,[],!1).filter(h=>dt(h)&&bt(h)!=="body"),n=null;const r=G(i).position==="fixed";let a=r?_t(i):i;for(;dt(a)&&!ze(a);){const h=G(a),o=js(a);!o&&h.position==="fixed"&&(n=null),(r?!o&&!n:!o&&h.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||oe(a)&&!o&&zn(i,a))?s=s.filter(u=>u!==a):n=h,a=_t(a)}return t.set(i,s),s}function Jr(i){let{element:t,boundary:e,rootBoundary:s,strategy:n}=i;const a=[...e==="clippingAncestors"?Xr(t,this.Gk):[].concat(e),s],h=a[0],o=a.reduce((c,u)=>{const f=Li(t,u,n);return c.top=It(f.top,c.top),c.right=cs(f.right,c.right),c.bottom=cs(f.bottom,c.bottom),c.left=It(f.left,c.left),c},Li(t,h,n));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}}function Gr(i){return Hn(i)}function ta(i,t,e){const s=rt(t),n=ft(t),r=e==="fixed",a=Et(i,!0,r,t);let h={scrollLeft:0,scrollTop:0};const o=gt(0);if(s||!s&&!r)if((bt(t)!=="body"||oe(n))&&(h=We(t)),s){const c=Et(t,!0,r,t);o.x=c.x+t.clientLeft,o.y=c.y+t.clientTop}else n&&(o.x=Un(n));return{x:a.left+h.scrollLeft-o.x,y:a.top+h.scrollTop-o.y,width:a.width,height:a.height}}function ji(i,t){return!rt(i)||G(i).position==="fixed"?null:t?t(i):i.offsetParent}function Wn(i,t){const e=W(i);if(!rt(i))return e;let s=ji(i,t);for(;s&&Vr(s)&&G(s).position==="static";)s=ji(s,t);return s&&(bt(s)==="html"||bt(s)==="body"&&G(s).position==="static"&&!js(s))?e:s||Ur(i)||e}const ea=async function(i){let{reference:t,floating:e,strategy:s}=i;const n=this.getOffsetParent||Wn,r=this.getDimensions;return{reference:ta(t,await n(e),s),floating:{x:0,y:0,...await r(e)}}};function sa(i){return G(i).direction==="rtl"}const ia={convertOffsetParentRelativeRectToViewportRelativeRect:Kr,getDocumentElement:ft,getClippingRect:Jr,getOffsetParent:Wn,getElementRects:ea,getClientRects:Br,getDimensions:Gr,getScale:Rt,isElement:dt,isRTL:sa};function na(i,t){let e=null,s;const n=ft(i);function r(){clearTimeout(s),e&&e.disconnect(),e=null}function a(h,o){h===void 0&&(h=!1),o===void 0&&(o=1),r();const{left:c,top:u,width:f,height:m}=i.getBoundingClientRect();if(h||t(),!f||!m)return;const g=ue(u),P=ue(n.clientWidth-(c+f)),A=ue(n.clientHeight-(u+m)),B=ue(c),it={rootMargin:-g+"px "+-P+"px "+-A+"px "+-B+"px",threshold:It(0,cs(1,o))||1};let vt=!0;function le(nt){const Ye=nt[0].intersectionRatio;if(Ye!==o){if(!vt)return a();Ye?a(!1,Ye):s=setTimeout(()=>{a(!1,1e-7)},100)}vt=!1}try{e=new IntersectionObserver(le,{...it,root:n.ownerDocument})}catch{e=new IntersectionObserver(le,it)}e.observe(i)}return a(!0),r}function ra(i,t,e,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:o=!1}=s,c=Is(i),u=n||r?[...c?Zt(c):[],...Zt(t)]:[];u.forEach(j=>{n&&j.addEventListener("scroll",e,{passive:!0}),r&&j.addEventListener("resize",e)});const f=c&&h?na(c,e):null;let m=-1,g=null;a&&(g=new ResizeObserver(j=>{let[it]=j;it&&it.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{g&&g.observe(t)})),e()}),c&&!o&&g.observe(c),g.observe(t));let P,A=o?Et(i):null;o&&B();function B(){const j=Et(i);A&&(j.x!==A.x||j.y!==A.y||j.width!==A.width||j.height!==A.height)&&e(),A=j,P=requestAnimationFrame(B)}return e(),()=>{u.forEach(j=>{n&&j.removeEventListener("scroll",e),r&&j.removeEventListener("resize",e)}),f&&f(),g&&g.disconnect(),g=null,o&&cancelAnimationFrame(P)}}const aa=(i,t,e)=>{const s=new Map,n={platform:ia,...e},r={...n.platform,Gk:s};return Hr(i,t,{...n,platform:r})},Je=i=>i===null?"":i+"",ha=i=>i===null?null:i+"",oa=i=>i===null?0:Number(i),ca=i=>i!==null,la=()=>null,ua=i=>i===null?[]:JSON.parse(i),da=i=>i===null?{}:JSON.parse(i);function fa(i){if(i===null)return ha;switch(typeof i){case"undefined":return Je;case"string":return Je;case"boolean":return ca;case"number":return oa;case"function":return la;case"object":return Z(i)?ua:da;default:return Je}}const pt=Symbol(0),Kn=Symbol(0),xt=Symbol(0),Tt=Symbol(0);function Zo(i,t){var s,n,r;class e extends i{constructor(...o){super(...o);$(this,"$");$(this,n,0);$(this,r,null);$(this,"keepAlive",!1);$(this,"forwardKeepAlive",!0);if(this.$=_(()=>Or(t),null),this.$.$$.i(this),t.props){const c=this.$props,u=Object.getOwnPropertyDescriptors(this);for(const f of Object.keys(u))f in t.props&&(c[f].set(this[f]),delete this[f])}}static get observedAttributes(){var o;if(!this[pt]&&t.props){const c=new Map;for(const u of Object.keys(t.props)){let f=(o=this.attrs)==null?void 0:o[u],m=D(f)?f:f&&(f==null?void 0:f.attr);m!==!1&&(m||(m=Ls(u)),c.set(m,{b:u,a:f&&!D(f)&&(f==null?void 0:f.converter)||fa(t.props[u])}))}this[pt]=c}return this[pt]?Array.from(this[pt].keys()):[]}get scope(){return this.$.$$.d}get attachScope(){return this.$.$$.e}get connectScope(){return this.$.$$.g}get $props(){return this.$.$$.f}get $state(){return this.$.$$.h}get state(){return this.$.state}attributeChangedCallback(o,c,u){var g;const f=this.constructor;if(!f[pt]){(g=super.attributeChangedCallback)==null||g.call(this,o,c,u);return}const m=f[pt].get(o);m&&(this[m.b]=m.a(u))}connectedCallback(){var u;const o=(u=this.$)==null?void 0:u.$$;if(!o||o.c)return;if(this[xt]!==2){ma.call(this);return}if(!this.isConnected)return;this.hasAttribute("keep-alive")&&(this.keepAlive=!0),o.j(),Z(this[Tt])&&Mr(this[Tt],this),this[Tt]=null;const c=super.connectedCallback;c&&_(()=>c.call(this),this.connectScope)}disconnectedCallback(){var u;const o=(u=this.$)==null?void 0:u.$$;if(!o||o.c)return;o.k();const c=super.disconnectedCallback;c&&c.call(this),!this.keepAlive&&!this.hasAttribute("keep-alive")&&setTimeout(()=>{requestAnimationFrame(()=>{this.isConnected||o.l()})},0)}[(s=pt,n=xt,r=Tt,Kn)](){const o=this.$.$$,c=this.constructor;if(o.c)return;const u=c[pt];if(u)for(const f of this.attributes){let m=u.get(f.name);m&&m.a&&o.f[m.b].set(m.a(this.getAttribute(f.name)))}o.m(),o.n(this),this[xt]=2,this.connectedCallback()}subscribe(o){return this.$.subscribe(o)}destroy(){this.disconnectedCallback(),this.$.destroy()}}return $(e,"attrs"),$(e,s,null),pa(e,t),e}function pa(i,t){const e=i.prototype,s=t.prototype;if(t.props)for(const n of Object.keys(t.props))Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get(){return this.$props[n]()},set(r){this.$props[n].set(r)}});if(s[zt])for(const n of s[zt])Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get(){return this.$[n]},set(r){this.$[n]=r}});if(s[Wt])for(const n of s[Wt])e[n]=function(...r){return this.$[n](...r)}}function ma(){if(this[xt]!==0)return;this[xt]=1;const i=ba(this),t=i&&window.customElements.get(i.localName),e=i&&i[xt]===2;if(i&&(!t||!e)){ga.call(this,i);return}Bn.call(this,i)}async function ga(i){await window.customElements.whenDefined(i.localName),i[xt]!==2&&await new Promise(t=>(i[Tt]??(i[Tt]=[])).push(t)),Bn.call(this,i)}function Bn(i){if(this.isConnected){if(i){i.keepAlive&&i.forwardKeepAlive&&(this.keepAlive=!0,this.setAttribute("keep-alive",""));const t=this.$.$$.d;t&&i.$.$$.e.append(t)}this[Kn]()}}function ba(i){let t=i.parentNode,e=i.localName.split("-",1)[0]+"-";for(;t;){if(t.nodeType===1&&t.localName.startsWith(e))return t;t=t.parentNode}return null}function Xo(i,t=!1){(t||!window.customElements.get(i.tagName))&&window.customElements.define(i.tagName,i)}const ya=Symbol(0),$a=Symbol(0),wa=Symbol(0),va=Symbol(0),Ta=Symbol(0),ka=Symbol(0),xa=Symbol(0),Ea=Symbol(0),Sa=Symbol(0),S={W:ya,Aa:$a,q:wa,O:va,za:Ta,R:ka,Ca:xa,Ba:Ea,hb:Sa},Pa=(navigator==null?void 0:navigator.userAgent.toLowerCase())||"",Aa=/iphone|ipad|ipod|ios|crios|fxios/i.test(Pa),Di=/(iphone|ipod)/gi.test((navigator==null?void 0:navigator.platform)||""),Jo=!!window.chrome,Ca=!!window.safari||Aa;function Qn(){return Oa()&&lt(screen.orientation.unlock)}function Oa(){return!U(window.screen.orientation)&&!U(window.screen.orientation.lock)}function Ma(i){return i||(i=document.createElement("video")),i.canPlayType("application/vnd.apple.mpegurl").length>0}function Go(i){return!!document.pictureInPictureEnabled&&!i.disablePictureInPicture}function tc(i){return lt(i==null?void 0:i.webkitSupportsPresentationMode)&&lt(i==null?void 0:i.webkitSetPresentationMode)}async function La(){const i=document.createElement("video");return i.volume=.5,await Dr(0),i.volume===.5}function ja(){return(window==null?void 0:window.MediaSource)??(window==null?void 0:window.WebKitMediaSource)}function Da(){return(window==null?void 0:window.SourceBuffer)??(window==null?void 0:window.WebKitSourceBuffer)}function Yn(){const i=ja();if(U(i))return!1;const t=i&&lt(i.isTypeSupported)&&i.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),e=Da(),s=U(e)||!U(e.prototype)&&lt(e.prototype.appendBuffer)&&lt(e.prototype.remove);return!!t&&!!s}var Ii;class Zn extends Ms{constructor(){super(...arguments),this.ya=[],this[Ii]=!1}get length(){return this.ya.length}get readonly(){return this[S.za]}toArray(){return[...this.ya]}[(Ii=S.za,Symbol.iterator)](){return this.ya.values()}[S.W](t,e){const s=this.ya.length;""+s in this||Object.defineProperty(this,s,{get(){return this.ya[s]}}),!this.ya.includes(t)&&(this.ya.push(t),this.dispatchEvent(new M("add",{detail:t,trigger:e})))}[S.Aa](t,e){var n;const s=this.ya.indexOf(t);s>=0&&((n=this[S.Ba])==null||n.call(this,t,e),this.ya.splice(s,1),this.dispatchEvent(new M("remove",{detail:t,trigger:e})))}[S.q](t){var e;for(const s of[...this.ya])this[S.Aa](s,t);this.ya=[],this[S.R](!1,t),(e=this[S.Ca])==null||e.call(this)}[S.R](t,e){this[S.za]!==t&&(this[S.za]=t,this.dispatchEvent(new M("readonly-change",{detail:t,trigger:e})))}}class Ge{get length(){return this.xc.length}constructor(t,e){Z(t)?this.xc=t:!U(t)&&!U(e)?this.xc=[[t,e]]:this.xc=[]}start(t){return this.xc[t][0]??1/0}end(t){return this.xc[t][1]??1/0}}function Ri(i){if(!i.length)return null;let t=i.start(0);for(let e=1;e<i.length;e++){const s=i.start(e);s<t&&(t=s)}return t}function _i(i){if(!i.length)return null;let t=i.end(0);for(let e=1;e<i.length;e++){const s=i.end(e);s>t&&(t=s)}return t}const Rs=new Mt({audioTracks:[],audioTrack:null,autoplay:!1,autoplayError:null,buffered:new Ge,duration:0,canLoad:!1,canFullscreen:!1,canOrientScreen:Qn(),canPictureInPicture:!1,canPlay:!1,controls:!1,controlsVisible:!1,crossorigin:null,currentTime:0,ended:!1,error:null,fullscreen:!1,loop:!1,logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new Ge,playing:!1,playsinline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,seekable:new Ge,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,volume:1,waiting:!1,get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){return Ri(this.buffered)??0},get bufferedEnd(){return _i(this.buffered)??0},get seekableStart(){return Ri(this.seekable)??0},get seekableEnd(){return this.canPlay?_i(this.seekable)??1/0:0},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.duration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(this.liveSyncPosition??this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoplaying:!1,providedTitle:"",inferredTitle:"",providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null}),Ia=new Set(["autoplay","canFullscreen","canLoad","canPictureInPicture","canSetVolume","controls","crossorigin","fullscreen","height","inferredViewType","logLevel","loop","mediaHeight","mediaType","mediaWidth","muted","orientation","pictureInPicture","playsinline","pointer","preload","providedPoster","providedStreamType","providedTitle","providedViewType","source","sources","textTrack","textTracks","volume","width"]);function Ra(i){Rs.reset(i,t=>!Ia.has(t)),mt()}const Xn=wt();function x(){return L(Xn)}const _a=eval,qa=/:\s+'?"?(.*?)'?"?\)/g,Na=/\s+not\s+/g,Fa=/\s+and\s+/g,Ha=/\s+or\s+/g,Va=/(\d)px/g,Ce=class Ce extends Ms{constructor(t,e){super(),this.id=w("true"),this.rd=new Set,this.sd=w(!0),this.$matches=Ot(()=>{let s=this.id();if(s==="never")return!1;for(const n of this.rd){const r=this.ud[n](),a=D(r)?`'${r}'`:r+"";s=s.replace(Ls(n),a)}return _a(`!!(${s})`)&&this.sd()}),this.td=e,this.ud=t,xn(s=>{l(this.Xa.bind(this)),l(this.wd.bind(this)),this.vd=s})}get query(){return jr(this.td)}get matches(){return this.$matches()}Xa(){const t=this.query;if(t==="")return;if(t==="never"){this.id.set(t);return}const e=t.trim().split(/\s*,\s*/g),s=e.filter(r=>r.startsWith("@media")).join(","),n=e.filter(r=>!r.startsWith("@media"));if(s.length){const r=window.matchMedia(s.replace(/@media\s/g,"")),a=()=>void this.sd.set(r.matches);a(),p(r,"change",a)}if(n.length){const r=this.xd(n),a=Object.keys(Rs.record);for(const h of r.matchAll(/\(([-a-zA-Z]+)\s/g)){const o=Dn(h[1]);a.includes(o)&&this.rd.add(o)}this.id.set(r)}return()=>{this.rd.clear(),this.id.set("true"),this.sd.set(!0)}}wd(){this.$matches(),this.dispatchEvent(new Event("change"))}xd(t){return t.map(e=>"("+e.replace(qa,' == "$1")').replace(Na,"!").replace(Fa," && ").replace(Ha," || ").replace(Va,"$1").trim()+")").join(" || ")}destroy(){this.vd()}};Ce.create=t=>{const e=x();return new Ce(e.$state,t)};let Xt=Ce;function ec(i,t){const e=new URLSearchParams;for(const s of Object.keys(t))e.set(s,t[s]+"");return i+"?"+e.toString()}function Jn(i,t="preconnect"){const e=document.querySelector(`link[href="${i}"]`);if(!$t(e))return!0;const s=document.createElement("link");return s.rel=t,s.href=i,s.crossOrigin="true",document.head.append(s),!0}const de={};function sc(i){if(de[i])return de[i].promise;const t=os(),e=document.querySelector(`script[src="${i}"]`);if(!$t(e))return t.resolve(),t.promise;const s=document.createElement("script");return s.src=i,s.onload=()=>{t.resolve(),delete de[i]},s.onerror=()=>{t.reject(),delete de[i]},setTimeout(()=>document.head.append(s),0),t.promise}function xe(i){return i==="use-credentials"?"include":D(i)?"same-origin":void 0}const Ua=Symbol(0),za=Symbol(0),Wa=Symbol(0),Ka=Symbol(0),Ba=Symbol(0),Qa=Symbol(0),Ya=Symbol(0),v={nd:Ua,rb:za,fd:Wa,gd:Ka,Ab:Ba,qb:Qa,sb:Ya};function Za(i,t){for(let e=0,s=i.length;e<s;e++)if(Ee(i[e],t))return i[e];return null}function Ee(i,t){return t>=i.startTime&&t<i.endTime}function _s(i,t,e){let s=null;function n(){const r=D(t)?[t]:t,a=i.toArray().find(h=>r.includes(h.kind)&&h.mode==="showing");if(a!==s){if(!a){e(null),s=null;return}a.readyState==2?e(a):(e(null),a.addEventListener("load",()=>e(a),{once:!0})),s=a}}return n(),p(i,"mode-change",n)}var qi,Ni,Fi;class ls extends Ms{constructor(t){super(),this.id="",this.label="",this.language="",this.default=!1,this.gd=!1,this.cd=0,this.wb="disabled",this.hd={},this.ed=[],this.bd=[],this.dd=[],this[qi]=0,this[Ni]=null,this[Fi]=null;for(const e of Object.keys(t))this[e]=t[e];this.type||(this.type="vtt"),t.content?ut(()=>import("./prod-qq4cA8cI.js").then(e=>e.d),__vite__mapDeps([0,1])).then(({parseText:e,VTTCue:s,VTTRegion:n})=>{t.type==="json"?this.jd(t.content,s,n):e(t.content,{type:t.type}).then(({cues:r,regions:a})=>{this.bd=r,this.ed=a,this.rb()})}):t.src||(this[v.rb]=2)}static createId(t){return`id::${t.type}-${t.kind}-${t.src??t.label}`}get metadata(){return this.hd}get regions(){return this.ed}get cues(){return this.bd}get activeCues(){return this.dd}get readyState(){return this[v.rb]}get mode(){return this.wb}set mode(t){this.setMode(t)}addCue(t,e){var r;let s=0,n=this.bd.length;for(s=0;s<n&&!(t.endTime<=this.bd[s].startTime);s++);s===n?this.bd.push(t):this.bd.splice(s,0,t),(e==null?void 0:e.type)!=="cuechange"&&((r=this[v.qb])==null||r.track.addCue(t)),this.dispatchEvent(new M("add-cue",{detail:t,trigger:e})),Ee(t,this.cd)&&this[v.fd](this.cd,e)}removeCue(t,e){var n;const s=this.bd.indexOf(t);if(s>=0){const r=this.dd.includes(t);this.bd.splice(s,1),(n=this[v.qb])==null||n.track.removeCue(t),this.dispatchEvent(new M("remove-cue",{detail:t,trigger:e})),r&&this[v.fd](this.cd,e)}}setMode(t,e){var s;this.wb!==t&&(this.wb=t,t==="disabled"?(this.dd=[],this.kd()):this.readyState===2?this[v.fd](this.cd,e):this.ld(),this.dispatchEvent(new M("mode-change",{detail:this,trigger:e})),(s=this[v.Ab])==null||s.call(this))}[(qi=v.rb,Ni=v.Ab,Fi=v.qb,v.fd)](t,e){if(this.cd=t,this.mode==="disabled"||!this.bd.length)return;const s=[];for(let r=0,a=this.bd.length;r<a;r++){const h=this.bd[r];Ee(h,t)&&s.push(h)}let n=s.length!==this.dd.length;if(!n){for(let r=0;r<s.length;r++)if(!this.dd.includes(s[r])){n=!0;break}}this.dd=s,n&&this.kd(e)}[v.gd](){this.gd=!0,this.wb!=="disabled"&&this.ld()}async ld(){var t,e;if(!(!this.gd||!this.src||this[v.rb]>0)){this[v.rb]=1,this.dispatchEvent(new M("load-start"));try{const{parseResponse:s,VTTCue:n,VTTRegion:r}=await ut(()=>import("./prod-qq4cA8cI.js").then(o=>o.d),__vite__mapDeps([0,1])),a=(t=this[v.nd])==null?void 0:t.call(this),h=fetch(this.src,{headers:this.type==="json"?{"Content-Type":"application/json"}:void 0,credentials:xe(a)});if(this.type==="json")this.jd(await(await h).text(),n,r);else{const{errors:o,metadata:c,regions:u,cues:f}=await s(h,{type:this.type,encoding:this.encoding});if(((e=o[0])==null?void 0:e.code)===0)throw o[0];this.hd=c,this.ed=u,this.bd=f}this.rb()}catch(s){this.md(s)}}}rb(){var e;if(this[v.rb]=2,!this.src||this.type!=="vtt"){const s=(e=this[v.qb])==null?void 0:e.track;if(s)for(const n of this.bd)s.addCue(n)}const t=new M("load");this[v.fd](this.cd,t),this.dispatchEvent(t)}md(t){this[v.rb]=3,this.dispatchEvent(new M("error",{detail:t}))}jd(t,e,s){try{const{regions:n,cues:r}=Gn(t,e,s);this.ed=n,this.bd=r}catch(n){this.md(n)}}kd(t){this.dispatchEvent(new M("cue-change",{trigger:t}))}}const Xa=/captions|subtitles/;function q(i){return Xa.test(i.kind)}function Gn(i,t,e){const s=JSON.parse(i);let n=[],r=[];return s.regions&&e&&(n=s.regions.map(a=>Object.assign(new e,a))),(s.cues||Z(s))&&(r=(Z(s)?s:s.cues).filter(a=>we(a.startTime)&&we(a.endTime)).map(a=>Object.assign(new t(0,0,""),a))),{regions:n,cues:r}}function E(i,t,e){i.hasAttribute(t)||i.setAttribute(t,e)}function Ft(i,t){if(i.hasAttribute("aria-label"))return;function e(){T(i,"aria-label",t())}l(e)}function tr(i,t,e){for(;t;){if(t===i)return!0;if(e!=null&&e(t))break;t=t.parentElement}return!1}function St(i,t){p(i,"pointerup",e=>{e.button===0&&t(e)}),p(i,"keydown",e=>{Ln(e)&&t(e)})}function qs(i){return me(i)&&(i.touches.length>1||i.changedTouches.length>1)}function us(i){let t=He(),e=window.requestAnimationFrame(()=>{_(i,t),e=-1});return()=>void window.cancelAnimationFrame(e)}function ic(i,t,e){let s,n=i,r=i.parentElement,a=i.content.firstElementChild,h=[];!a&&i.firstElementChild&&(i.innerHTML=i.firstElementChild.outerHTML,i.firstElementChild.remove(),a=i.content.firstElementChild);for(let o=0;o<t;o++)s=document.importNode(a,!0),e==null||e(s,o),r.insertBefore(s,n.nextSibling),h.push(s),n=s;return k(()=>{for(let o=0;o<h.length;o++)h[o].remove()}),h}function nc(i){const t=document.createElement("template");return t.innerHTML=i,t.content}function rc(i){return i.cloneNode(!0).firstElementChild}function er(i,t,e,{offsetVarName:s,xOffset:n,yOffset:r,...a}){if(!i)return;const h=e.replace(" ","-").replace("-center","");if(z(i,"visibility",t?null:"hidden"),!t)return;const o=c=>e.includes("top")?`calc(-1 * ${c})`:c;return ra(t,i,()=>{aa(t,i,{placement:h,...a}).then(({x:c,y:u})=>{Object.assign(i.style,{top:`calc(${u+"px"} + ${o(r?r+"px":`var(--${s}-y-offset, 0px)`)})`,left:`calc(${c+"px"} + ${n?n+"px":`var(--${s}-x-offset, 0px)`})`})})})}function Ja(i){return getComputedStyle(i).animationName!=="none"}const Ga=Symbol(0),th=Symbol(0),Lt={X:Ga,V:th};function ts(i){return i instanceof Error?i:Error(JSON.stringify(i))}const eh=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,sh=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp4","audio/webm","audio/flac"]),ih=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,nh=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),rh=/\.(m3u8)($|\?)/i,ah=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]);function Ns({src:i,type:t}){return D(i)&&rh.test(i)||ah.has(t)}function ac(i){return typeof window.MediaStream<"u"&&i instanceof window.MediaStream}function N(i,t=2){return Number(i.toFixed(t))}function hh(i){var t;return((t=String(i).split(".")[1])==null?void 0:t.length)??0}function Fs(i,t,e){return Math.max(i,Math.min(e,t))}var H={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},Hi=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],Vi=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],Ui=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],F=typeof window<"u"&&typeof window.document<"u"?window.document:{},Q="fullscreenEnabled"in F&&Object.keys(H)||Hi[0]in F&&Hi||Vi[0]in F&&Vi||Ui[0]in F&&Ui||[],oh={requestFullscreen:function(i){return i[Q[H.requestFullscreen]]()},requestFullscreenFunction:function(i){return i[Q[H.requestFullscreen]]},get exitFullscreen(){return F[Q[H.exitFullscreen]].bind(F)},get fullscreenPseudoClass(){return":"+Q[H.fullscreen]},addEventListener:function(i,t,e){return F.addEventListener(Q[H[i]],t,e)},removeEventListener:function(i,t,e){return F.removeEventListener(Q[H[i]],t,e)},get fullscreenEnabled(){return!!F[Q[H.fullscreenEnabled]]},set fullscreenEnabled(i){},get fullscreenElement(){return F[Q[H.fullscreenElement]]},set fullscreenElement(i){},get onfullscreenchange(){return F[("on"+Q[H.fullscreenchange]).toLowerCase()]},set onfullscreenchange(i){return F[("on"+Q[H.fullscreenchange]).toLowerCase()]=i},get onfullscreenerror(){return F[("on"+Q[H.fullscreenerror]).toLowerCase()]},set onfullscreenerror(i){return F[("on"+Q[H.fullscreenerror]).toLowerCase()]=i}},kt=oh;const Se=kt.fullscreenEnabled;class ch extends st{constructor(){super(...arguments),this.Da=!1,this.Ea=!1}get active(){return this.Ea}get supported(){return Se}onConnect(){p(kt,"fullscreenchange",this.Fa.bind(this)),p(kt,"fullscreenerror",this.Ga.bind(this)),k(this.xa.bind(this))}async xa(){Se&&await this.exit()}Fa(t){const e=es(this.el);e!==this.Ea&&(e||(this.Da=!1),this.Ea=e,this.dispatch("fullscreen-change",{detail:e,trigger:t}))}Ga(t){this.Da&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),this.Da=!1)}async enter(){try{return this.Da=!0,!this.el||es(this.el)?void 0:(zi(),kt.requestFullscreen(this.el))}catch(t){throw this.Da=!1,t}}async exit(){if(!(!this.el||!es(this.el)))return zi(),kt.exitFullscreen()}}function lh(){return Se}function es(i){if(kt.fullscreenElement===i)return!0;try{return i.matches(kt.fullscreenPseudoClass)}catch{return!1}}function zi(){if(!Se)throw Error("[vidstack] no fullscreen API")}const Oe=class Oe extends st{constructor(){super(...arguments),this.Ia=w(this.Ka()),this.Ha=w(!1)}get type(){return this.Ia()}get locked(){return this.Ha()}get portrait(){return this.Ia().startsWith("portrait")}get landscape(){return this.Ia().startsWith("landscape")}get supported(){return Oe.supported}onConnect(){if(this.supported)p(screen.orientation,"change",this.La.bind(this));else{const t=window.matchMedia("(orientation: landscape)");t.onchange=this.La.bind(this),k(()=>t.onchange=null)}k(this.xa.bind(this))}async xa(){this.supported&&this.Ha()&&await this.unlock()}La(t){this.Ia.set(this.Ka()),this.dispatch("orientation-change",{detail:{orientation:d(this.Ia),lock:this.Ja},trigger:t})}async lock(t){d(this.Ha)||this.Ja===t||(this.Ma(),await screen.orientation.lock(t),this.Ha.set(!0),this.Ja=t)}async unlock(){d(this.Ha)&&(this.Ma(),this.Ja=void 0,await screen.orientation.unlock(),this.Ha.set(!1))}Ma(){if(!this.supported)throw Error("[vidstack] no orientation API")}Ka(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}};Oe.supported=Qn();let Pe=Oe;class uh{constructor(t=void 0){this.wa=null,this.zc=null,this.Bc=-1,this.va=t}setTarget(t){this.wa=t}getPlayer(t){var e;return this.zc?this.zc:((e=t??this.wa)==null||e.dispatchEvent(new M("find-media-player",{detail:s=>void(this.zc=s),bubbles:!0,composed:!0})),this.zc)}setPlayer(t){this.zc=t}startLoading(t){this.yc("media-start-loading",t)}play(t){this.yc("media-play-request",t)}pause(t){this.yc("media-pause-request",t)}mute(t){this.yc("media-mute-request",t)}unmute(t){this.yc("media-unmute-request",t)}enterFullscreen(t,e){this.yc("media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){this.yc("media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){this.yc("media-orientation-lock-request",e,t)}unlockScreenOrientation(t){this.yc("media-orientation-unlock-request",t)}enterPictureInPicture(t){this.yc("media-enter-pip-request",t)}exitPictureInPicture(t){this.yc("media-exit-pip-request",t)}seeking(t,e){this.yc("media-seeking-request",e,t)}seek(t,e){this.yc("media-seek-request",e,t)}seekToLiveEdge(t){this.yc("media-live-edge-request",t)}changeVolume(t,e){this.yc("media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){this.yc("media-audio-track-change-request",e,t)}changeQuality(t,e){this.yc("media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,s){this.yc("media-text-track-change-request",s,{index:t,mode:e})}changePlaybackRate(t,e){this.yc("media-rate-change-request",e,t)}resumeControls(t){this.yc("media-resume-controls-request",t)}pauseControls(t){this.yc("media-pause-controls-request",t)}togglePaused(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){const s=this.getPlayer(e==null?void 0:e.target);s&&(s.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}disableCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);if(!e)return;const s=e.state.textTracks,n=e.state.textTrack;if(n){const r=s.indexOf(n);this.changeTextTrackMode(r,"disabled",t)}}toggleCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);if(!e)return;const s=e.state.textTracks,n=e.state.textTrack;if(n){const r=s.indexOf(n);this.changeTextTrackMode(r,"disabled",t),this.Bc=r}else{let r=this.Bc;(!s[r]||!q(s[r]))&&(r=-1),r===-1&&(r=s.findIndex(a=>q(a)&&a.default)),r===-1&&(r=s.findIndex(a=>q(a))),r>=0&&this.changeTextTrackMode(r,"showing",t),this.Bc=-1}}yc(t,e,s){var h,o;const n=new M(t,{bubbles:!0,composed:!0,detail:s,trigger:e});let r=(e==null?void 0:e.target)||null;r&&r instanceof y&&(r=r.el),r=!r||r===document||r===window||r===document.body||((h=this.zc)==null?void 0:h.el)&&r instanceof Node&&!this.zc.el.contains(r)?this.wa??((o=this.getPlayer())==null?void 0:o.el):r??this.wa,this.zc?this.zc.canPlayQueue.Cc(t,()=>r==null?void 0:r.dispatchEvent(n)):r==null||r.dispatchEvent(n)}Ac(t){}}class Ht extends st{}class dh extends Ht{constructor(){super(...arguments),this.Gc=-2,this.Dc=!1,this.Jc=w(!1),this.Hc=w(!1),this.Ec=null,this.defaultDelay=2e3}get hideOnMouseLeave(){const{hideControlsOnMouseLeave:t}=this.$props;return this.Jc()||t()}set hideOnMouseLeave(t){this.Jc.set(t)}get showing(){return this.$state.controlsVisible()}show(t=0,e){this.Ic(),this.Dc||this.Fc(!0,t,e)}hide(t=this.defaultDelay,e){this.Ic(),this.Dc||this.Fc(!1,t,e)}pause(t){this.Dc=!0,this.Ic(),this.Fc(!0,0,t)}resume(t){this.Dc=!1,!this.$state.paused()&&this.Fc(!1,this.defaultDelay,t)}onConnect(){l(this.Lc.bind(this)),l(this.Mc.bind(this));const t=this.J.bind(this),e=this.I.bind(this);this.listen("can-play",s=>this.show(0,s)),this.listen("play",t),this.listen("pause",e),this.listen("autoplay-fail",e)}Lc(){const{started:t,pointer:e,paused:s}=this.$state;if(!t()||e()!=="fine")return;const n=this.hideOnMouseLeave;(!n||!this.Hc())&&l(()=>{s()||this.listen("pointermove",this.Kc.bind(this))}),n&&(this.listen("mouseenter",this.Nc.bind(this)),this.listen("mouseleave",this.Oc.bind(this)))}Mc(){const{paused:t,started:e,autoplayError:s}=this.$state;if(t()||s()&&!e())return;const n=this.Kc.bind(this);l(()=>{const r=this.$state.pointer(),a=r==="coarse",h=[a?"touchend":"pointerup","keydown"];for(const o of h)this.listen(o,n,{passive:!1})})}J(t){this.show(0,t),this.hide(void 0,t)}I(t){this.show(0,t)}Nc(t){this.Hc.set(!1),this.show(0,t),this.hide(void 0,t)}Oc(t){this.Hc.set(!0),this.hide(0,t)}Ic(){window.clearTimeout(this.Gc),this.Gc=-1}Kc(t){var e;t.MEDIA_GESTURE||this.Dc||qs(t)||(ve(t)&&(t.key==="Escape"?((e=this.el)==null||e.focus(),this.Ec=null):this.Ec&&(t.preventDefault(),requestAnimationFrame(()=>{var s;(s=this.Ec)==null||s.focus(),this.Ec=null}))),this.show(0,t),this.hide(this.defaultDelay,t))}Fc(t,e,s){if(e===0){this.tb(t,s);return}this.Gc=window.setTimeout(()=>{this.scope&&this.tb(t&&!this.Dc,s)},e)}tb(t,e){var s;this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&((s=this.el)!=null&&s.contains(document.activeElement))&&(this.Ec=document.activeElement,requestAnimationFrame(()=>{var n;return(n=this.el)==null?void 0:n.focus()})),this.dispatch("controls-change",{detail:t,trigger:e}))}}class fh{constructor(){this.priority=0,this.ui=!0,this.$a=null,this.Zc=null,this.ti=new Set}canRender(){return!0}attach(t){this.$a=t,t.textTracks.onchange=this.tb.bind(this)}addTrack(t){this.ti.add(t),this.wi(t)}removeTrack(t){var e,s;(s=(e=t[v.qb])==null?void 0:e.remove)==null||s.call(e),t[v.qb]=null,this.ti.delete(t)}changeTrack(t){const e=t==null?void 0:t[v.qb];e&&e.track.mode!=="showing"&&(e.track.mode="showing"),this.Zc=t}setDisplay(t){this.ui=t,this.tb()}detach(){this.$a&&(this.$a.textTracks.onchange=null);for(const t of this.ti)this.removeTrack(t);this.ti.clear(),this.$a=null,this.Zc=null}wi(t){var s;if(!this.$a)return;const e=t[s=v.qb]??(t[s]=this.xi(t));e instanceof HTMLElement&&(this.$a.append(e),e.track.mode=e.default?"showing":"hidden")}xi(t){const e=document.createElement("track"),s=t.default||t.mode==="showing",n=t.src&&t.type==="vtt";return e.id=t.id,e.src=n?t.src:"https://cdn.jsdelivr.net/npm/vidstack@next/empty.vtt",e.label=t.label,e.kind=t.kind,e.default=s,t.language&&(e.srclang=t.language),s&&!n&&this.vi(t,e.track),e}vi(t,e){var s;if(!(t.src&&t.type==="vtt"||(s=e.cues)!=null&&s.length))for(const n of t.cues)e.addCue(n)}tb(t){var e;for(const s of this.ti){const n=(e=s[v.qb])==null?void 0:e.track;if(!n)continue;if(!this.ui){n.mode="disabled";continue}const r=n.mode==="showing";r&&this.vi(s,n),s.setMode(r?"showing":"disabled",t)}}}class ph{constructor(t){this.$a=null,this.Rc=[],this.Tc=!1,this.Pc=null,this.Qc=null,this.h=t;const e=t.textTracks;this.Sc=e,l(this.Wc.bind(this)),k(this.Uc.bind(this)),p(e,"add",this.ob.bind(this)),p(e,"remove",this.Xc.bind(this)),p(e,"mode-change",this.Wa.bind(this))}Wc(){const{$state:t,$iosControls:e}=this.h;this.Tc=t.controls()||e(),this.Wa()}add(t){this.Rc.push(t),this.Wa()}remove(t){t.detach(),this.Rc.splice(this.Rc.indexOf(t),1),this.Wa()}aa(t){requestAnimationFrame(()=>{if(this.$a=t,t){this.Pc=new fh,this.Pc.attach(t);for(const e of this.Sc)this.Vc(e)}this.Wa()})}Vc(t){var e;q(t)&&((e=this.Pc)==null||e.addTrack(t))}Yc(t){var e;q(t)&&((e=this.Pc)==null||e.removeTrack(t))}ob(t){this.Vc(t.detail)}Xc(t){this.Yc(t.detail)}Wa(){var s,n,r,a,h,o,c;if(!this.$a){this.Uc();return}const t=this.Sc.selected;if(this.Tc||t!=null&&t[v.sb]){(s=this.Qc)==null||s.changeTrack(null),(n=this.Pc)==null||n.setDisplay(!0),(r=this.Pc)==null||r.changeTrack(t);return}if((a=this.Pc)==null||a.setDisplay(!1),(h=this.Pc)==null||h.changeTrack(null),!t){(o=this.Qc)==null||o.changeTrack(null);return}const e=this.Rc.sort((u,f)=>u.priority-f.priority).find(u=>u.canRender(t));this.Qc!==e&&((c=this.Qc)==null||c.detach(),e==null||e.attach(this.$a),this.Qc=e??null),e==null||e.changeTrack(t)}Uc(){var t,e;(t=this.Pc)==null||t.detach(),this.Pc=null,(e=this.Qc)==null||e.detach(),this.Qc=null}}class mh extends Zn{constructor(){super(...arguments),this.gd=!1,this.od={},this.pd=this.qd.bind(this)}get selected(){return this.ya.find(e=>e.mode==="showing"&&q(e))??null}add(t,e){const s=t instanceof ls,n=s?t:new ls(t);return this.od[t.kind]&&t.default&&delete t.default,n.addEventListener("mode-change",this.pd),this[S.W](n,e),n[v.nd]=this[v.nd],this.gd&&n[v.gd](),t.default&&(this.od[t.kind]=n,n.mode="showing"),this}remove(t,e){if(this.ya.includes(t))return t===this.od[t.kind]&&delete this.od[t.kind],t.mode="disabled",t[v.Ab]=null,t.removeEventListener("mode-change",this.pd),this[S.Aa](t,e),this}clear(t){for(const e of[...this.ya])this.remove(e,t);return this}getById(t){return this.ya.find(e=>e.id===t)??null}getByKind(t){const e=Array.isArray(t)?t:[t];return this.ya.filter(s=>e.includes(s.kind))}[v.gd](){if(!this.gd){for(const t of this.ya)t[v.gd]();this.gd=!0}}qd(t){const e=t.detail;if(e.mode==="showing"){const s=q(e)?["captions","subtitles"]:[e.kind];for(const n of this.ya)n.mode==="showing"&&n!=e&&s.includes(n.kind)&&(n.mode="disabled")}this.dispatchEvent(new M("mode-change",{detail:t.detail,trigger:t}))}}const Ut=Symbol(0);class sr extends Zn{get selected(){return this.ya.find(t=>t.selected)??null}get selectedIndex(){return this.ya.findIndex(t=>t.selected)}[S.Ba](t,e){this[S.O](t,!1,e)}[S.W](t,e){t[Ut]=!1,Object.defineProperty(t,"selected",{get(){return this[Ut]},set:s=>{var n;this.readonly||((n=this[S.hb])==null||n.call(this),this[S.O](t,s))}}),super[S.W](t,e)}[S.O](t,e,s){if(e===(t==null?void 0:t[Ut]))return;const n=this.selected;t&&(t[Ut]=e),(e?n!==t:n===t)&&(n&&(n[Ut]=!1),this.dispatchEvent(new M("change",{detail:{prev:n,current:this.selected},trigger:s})))}}class gh extends sr{getById(t){return t===""?null:this.ya.find(e=>e.id===t)??null}}class bh extends sr{constructor(){super(...arguments),this.yd=!1,this.switch="current"}get auto(){return this.yd||this.readonly}[S.hb](){this[Lt.X](!1)}[S.Ca](t){this[Lt.X](!1,t)}autoSelect(t){var e;this.readonly||this.yd||!this[Lt.V]||((e=this[Lt.V])==null||e.call(this),this[Lt.X](!0,t))}[Lt.X](t,e){this.yd!==t&&(this.yd=t,this.dispatchEvent(new M("auto-change",{detail:t,trigger:e})))}}function yh(i){return i instanceof HTMLAudioElement}function $h(i){return i instanceof HTMLVideoElement}function wh(i){return yh(i)||$h(i)}const vh={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},Wi=new Set(["Shift","Alt","Meta","Control"]),Th='button, [role="button"]',Ki='input, textarea, select, [contenteditable], [role^="menuitem"]';class kh extends Ht{constructor(t){super(),this.zd=null,this.h=t}onConnect(){l(this.Dd.bind(this))}Dd(){const{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;const s=e()==="player"?this.el:document,n=w(!1);s===this.el?(this.listen("focusin",()=>n.set(!0)),this.listen("focusout",r=>{this.el.contains(r.target)||n.set(!1)})):(d(n)||n.set(document.querySelector("[data-media-player]")===this.el),p(document,"focusin",r=>{const a=r.composedPath().find(h=>h instanceof Element&&h.localName==="media-player");a!==void 0&&n.set(this.el===a)})),l(()=>{n()&&(p(s,"keyup",this.Ed.bind(this)),p(s,"keydown",this.Fd.bind(this)),p(s,"keydown",this.Gd.bind(this),{capture:!0}))})}Ed(t){const e=document.activeElement;if(!t.key||!this.$state.canSeek()||e!=null&&e.matches(Ki))return;let{method:s,value:n}=this.Bd(t);if(!D(n)&&!Z(n)){n==null||n.callback(t);return}if(s!=null&&s.startsWith("seek")&&(t.preventDefault(),t.stopPropagation(),this.zd?(this.Cd(t,s==="seekForward"),this.zd=null):(this.h.remote.seek(this.Ad,t),this.Ad=void 0)),s!=null&&s.startsWith("volume")){const r=this.el.querySelector("[data-media-volume-slider]");r==null||r.dispatchEvent(new KeyboardEvent("keyup",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}}Fd(t){var r,a;if(!t.key||Wi.has(t.key))return;const e=document.activeElement;if(e!=null&&e.matches(Ki)||Ln(t)&&(e!=null&&e.matches(Th)))return;let{method:s,value:n}=this.Bd(t);if(!D(n)&&!Z(n)){n==null||n.callback(t);return}if(!s&&!t.metaKey&&/[0-9]/.test(t.key)){t.preventDefault(),t.stopPropagation(),this.h.remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(s)switch(t.preventDefault(),t.stopPropagation(),s){case"seekForward":case"seekBackward":this.Hd(t,s,s==="seekForward");break;case"volumeUp":case"volumeDown":const h=this.el.querySelector("[data-media-volume-slider]");if(h)h.dispatchEvent(new KeyboardEvent("keydown",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{const c=t.shiftKey?.1:.05;this.h.remote.changeVolume(this.$state.volume()+(s==="volumeUp"?+c:-c),t)}break;case"toggleFullscreen":this.h.remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":const o=this.$state.playbackRate();this.h.remote.changePlaybackRate(Math.max(.25,Math.min(2,o+(s==="speedUp"?.25:-.25))),t);break;default:(a=(r=this.h.remote)[s])==null||a.call(r,t)}}Gd(t){wh(t.target)&&this.Bd(t).method&&t.preventDefault()}Bd(t){const e={...this.$props.keyShortcuts(),...this.h.ariaKeys},s=Object.keys(e).find(n=>{var h;const r=e[n],a=Z(r)?r.join(" "):D(r)?r:r==null?void 0:r.keys;return(h=Z(a)?a:a==null?void 0:a.split(" "))==null?void 0:h.some(o=>Eh(o).replace(/Control/g,"Ctrl").split("+").every(c=>Wi.has(c)?t[c.toLowerCase()+"Key"]:t.key===c.replace("Space"," ")))});return{method:s,value:s?e[s]:null}}Id(t,e){const s=t.shiftKey?10:5;return this.Ad=Math.max(0,Math.min((this.Ad??this.$state.currentTime())+(e==="seekForward"?+s:-s),this.$state.duration()))}Cd(t,e){var s;(s=this.zd)==null||s.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}Hd(t,e,s){this.$state.canSeek()&&(this.zd||(this.zd=this.el.querySelector("[data-media-time-slider]")),this.zd?this.Cd(t,s):this.h.remote.seeking(this.Id(t,e),t))}}const xh=["!","@","#","$","%","^","&","*","(",")"];function Eh(i){return i.replace(/Shift\+(\d)/g,(t,e)=>xh[e-1])}class Sh extends st{constructor(t){super(),this.Jd=t}onAttach(t){const{$props:e,ariaKeys:s}=x(),n=t.getAttribute("aria-keyshortcuts");if(n){s[this.Jd]=n,k(()=>{delete s[this.Jd]});return}const r=e.keyShortcuts()[this.Jd];if(r){const a=Z(r)?r.join(" "):D(r)?r:r==null?void 0:r.keys;t.setAttribute("aria-keyshortcuts",Z(a)?a.join(" "):a)}}}class Ph{canPlay({src:t,type:e}){return D(t)?eh.test(t)||sh.has(e)||t.startsWith("blob:")&&e==="audio/object":e==="audio/object"}mediaType(){return"audio"}async load(){return new(await ut(()=>import("./vidstack-audio-Znbc4u--.js"),__vite__mapDeps([2,3,4,1]))).AudioProvider(this.target)}}class ir{canPlay(t){return D(t.src)?ih.test(t.src)||nh.has(t.type)||t.src.startsWith("blob:")&&t.type==="video/object"||Ns(t)&&Ma():t.type==="video/object"}mediaType(){return"video"}async load(t){return new(await ut(()=>import("./vidstack-video-B-_kriFF.js"),__vite__mapDeps([5,3,4,1]))).VideoProvider(this.target,t)}}class Ah{canPlay(t){return D(t.src)&&t.type==="video/youtube"}mediaType(){return"video"}async load(t){return new(await ut(()=>import("./vidstack-youtube-yOm8tRHd.js"),__vite__mapDeps([6,7,1]))).YouTubeProvider(this.target)}}const Me=class Me extends ir{canPlay(t){return Me.supported&&Ns(t)}async load(t){return new(await ut(()=>import("./vidstack-hls-hkl1w8Ew.js"),__vite__mapDeps([8,5,3,4,1]))).HLSProvider(this.target,t)}};Me.supported=Yn();let ds=Me;class Ch{canPlay(t){return D(t.src)&&t.type==="video/vimeo"}mediaType(){return"video"}async load(t){return new(await ut(()=>import("./vidstack-vimeo-vULsoK_d.js"),__vite__mapDeps([9,4,7,1]))).VimeoProvider(this.target)}}const ss=Symbol(0),Oh=["autoplay","canFullscreen","canPictureInPicture","canLoad","canPlay","canSeek","ended","fullscreen","loop","live","liveEdge","mediaType","muted","paused","pictureInPicture","playing","playsinline","seeking","started","streamType","viewType","waiting"],Mh={autoplay:!1,controls:!1,currentTime:0,crossorigin:null,fullscreenOrientation:"landscape",load:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:vh};class Lh extends Ht{constructor(t){super(),this.kb=t}async onAttach(t){const e=this.$props.load();if(e==="eager")requestAnimationFrame(this.kb);else if(e==="idle")Rr(this.kb);else if(e==="visible"){const s=new IntersectionObserver(n=>{this.scope&&n[0].isIntersecting&&(s.disconnect(),this.kb())});return s.observe(t),s.disconnect.bind(s)}}}class jh{constructor(t,e){this.a=(s,...n)=>{this.ge(new M(s,{detail:n==null?void 0:n[0],trigger:n==null?void 0:n[1]}))},this.ge=t,this.h=e}async U(t,e){var u;const{$state:s,logger:n}=this.h;if(d(s.canPlay))return;const r={duration:(t==null?void 0:t.duration)??d(s.duration),seekable:(t==null?void 0:t.seekable)??d(s.seekable),buffered:(t==null?void 0:t.buffered)??d(s.buffered),provider:d(this.h.$provider)};this.a("can-play",r,e),mt();const a=d(this.h.$provider),{muted:h,volume:o,playsinline:c}=this.h.$state;a&&(a.setVolume(d(o)),a.setMuted(d(h)),(u=a.setPlaysinline)==null||u.call(a,d(c))),s.canPlay()&&s.autoplay()&&!s.started()&&await this.Ki(e)}async Ki(t){const{player:e,$state:s}=this.h;s.autoplaying.set(!0);const n=new M("autoplay-attempt",{trigger:t});try{await e.play(n)}catch{}}}class Dh{constructor(){this.Mi=new Map}Cc(t,e){this.Mi.has(t)||this.Mi.set(t,new Set),this.Mi.get(t).add(e)}sj(t,e){const s=this.Mi.get(t);if(s)for(const n of s)e(n);this.Mi.delete(t)}Pi(t){this.Mi.delete(t)}Pj(t){var e;return((e=this.Mi.get(t))==null?void 0:e.size)??0}q(){this.Mi.clear()}}class Ih extends Ht{constructor(t,e,s){super(),this.Oi=!1,this.Ld=t,this.Li=e,this.h=s,this.Hb=s.$provider,this.he=new dh,this.Ni=new ch,this.ff=new Pe}onAttach(){this.listen("fullscreen-change",this.Fa.bind(this))}onConnect(){const t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),e=this.Vi.bind(this);for(const s of t)s.startsWith("media-")&&this.listen(s,e);l(this.Wi.bind(this)),l(this.Xi.bind(this)),l(this.Yi.bind(this))}Vi(t){var e;t.stopPropagation(),d(this.Hb)&&((e=this[t.type])==null||e.call(this,t))}async ee(t){const{canPlay:e,paused:s,ended:n,autoplaying:r,seekableStart:a}=this.$state;if(d(s)){(t==null?void 0:t.type)==="media-play-request"&&this.Li.Mi.Cc("play",t);try{const h=d(this.Hb);return is(h,d(e)),d(n)&&h.setCurrentTime(a()+.1),await h.play()}catch(h){const o=this.createEvent("play-fail",{detail:ts(h),trigger:t});throw o.autoplay=r(),this.Ld.ge(o),h}}}async de(t){const{canPlay:e,paused:s}=this.$state;if(d(s))return;(t==null?void 0:t.type)==="media-pause-request"&&this.Li.Mi.Cc("pause",t);const n=d(this.Hb);return is(n,d(e)),n.pause()}me(t){const{canPlay:e,live:s,liveEdge:n,canSeek:r,liveSyncPosition:a,seekableEnd:h,userBehindLiveEdge:o}=this.$state;if(o.set(!1),d(()=>!s()||n()||!r()))return;const c=d(this.Hb);is(c,d(e)),c.setCurrentTime(a()??h()-2)}async ie(t="prefer-media",e){const s=this.Ri(t);if(Bi(t,s),!s.active)return d(this.$state.pictureInPicture)&&(this.Oi=!0,await this.le(e)),(e==null?void 0:e.type)==="media-enter-fullscreen-request"&&this.Li.Mi.Cc("fullscreen",e),s.enter()}async je(t="prefer-media",e){const s=this.Ri(t);if(Bi(t,s),!!s.active){(e==null?void 0:e.type)==="media-exit-fullscreen-request"&&this.Li.Mi.Cc("fullscreen",e);try{const n=await s.exit();return this.Oi&&d(this.$state.canPictureInPicture)&&await this.ke(),n}finally{this.Oi=!1}}}Ri(t){const e=d(this.Hb);return t==="prefer-media"&&this.Ni.supported||t==="media"?this.Ni:e==null?void 0:e.fullscreen}async ke(t){if(this.Si(),!this.$state.pictureInPicture())return(t==null?void 0:t.type)==="media-enter-pip-request"&&this.Li.Mi.Cc("pip",t),await this.Hb().pictureInPicture.enter()}async le(t){if(this.Si(),!!this.$state.pictureInPicture())return(t==null?void 0:t.type)==="media-exit-pip-request"&&this.Li.Mi.Cc("pip",t),await this.Hb().pictureInPicture.exit()}Si(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}Wi(){this.he.defaultDelay=this.$props.controlsDelay()}Xi(){var n,r;const{canLoad:t,canFullscreen:e}=this.$state,s=this.Ni.supported||((r=(n=this.Hb())==null?void 0:n.fullscreen)==null?void 0:r.supported)||!1;t()&&d(e)===s||e.set(s)}Yi(){var n,r;const{canLoad:t,canPictureInPicture:e}=this.$state,s=((r=(n=this.Hb())==null?void 0:n.pictureInPicture)==null?void 0:r.supported)||!1;t()&&d(e)===s||e.set(s)}"media-audio-track-change-request"(t){if(this.h.audioTracks.readonly)return;const e=t.detail,s=this.h.audioTracks[e];s&&(this.Li.Mi.Cc("audioTrack",t),s.selected=!0)}async"media-enter-fullscreen-request"(t){try{await this.ie(t.detail,t)}catch(e){this.Ga(e,t)}}async"media-exit-fullscreen-request"(t){try{await this.je(t.detail,t)}catch(e){this.Ga(e,t)}}async Fa(t){const e=d(this.$props.fullscreenOrientation),s=t.detail;if(!(U(e)||!this.ff.supported))if(s){if(this.ff.locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else this.ff.locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}Ga(t,e){this.Ld.ge(this.createEvent("fullscreen-error",{detail:ts(t)}))}async"media-orientation-lock-request"(t){try{this.Li.Mi.Cc("orientation",t),await this.ff.lock(t.detail)}catch{this.Li.Mi.Pi("orientation")}}async"media-orientation-unlock-request"(t){try{this.Li.Mi.Cc("orientation",t),await this.ff.unlock()}catch{this.Li.Mi.Pi("orientation")}}async"media-enter-pip-request"(t){try{await this.ke(t)}catch(e){this.Ti(e,t)}}async"media-exit-pip-request"(t){try{await this.le(t)}catch(e){this.Ti(e,t)}}Ti(t,e){this.Ld.ge(this.createEvent("picture-in-picture-error",{detail:ts(t)}))}"media-live-edge-request"(t){const{live:e,liveEdge:s,canSeek:n}=this.$state;if(!(!e()||s()||!n())){this.Li.Mi.Cc("seeked",t);try{this.me()}catch{}}}async"media-loop-request"(t){try{this.Li.Ui=!0,this.Li.Qi=!0,await this.ee(t)}catch{this.Li.Ui=!1,this.Li.Qi=!1}}async"media-pause-request"(t){if(!this.$state.paused())try{await this.de(t)}catch{this.Li.Mi.Pi("pause")}}async"media-play-request"(t){if(this.$state.paused())try{await this.ee(t)}catch{}}"media-rate-change-request"(t){const{playbackRate:e,canSetPlaybackRate:s}=this.$state;if(e()===t.detail||!s())return;const n=this.Hb();n!=null&&n.setPlaybackRate&&(this.Li.Mi.Cc("rate",t),n.setPlaybackRate(t.detail))}"media-quality-change-request"(t){if(this.h.qualities.readonly)return;this.Li.Mi.Cc("quality",t);const e=t.detail;if(e<0)this.h.qualities.autoSelect(t);else{const s=this.h.qualities[e];s&&(s.selected=!0)}}"media-pause-controls-request"(t){this.Li.Mi.Cc("controls",t),this.he.pause(t)}"media-resume-controls-request"(t){this.Li.Mi.Cc("controls",t),this.he.resume(t)}"media-seek-request"(t){const{seekableStart:e,seekableEnd:s,ended:n,canSeek:r,live:a,userBehindLiveEdge:h}=this.$state;n()&&(this.Li.Qi=!0),this.Li.Hd=!1,this.Li.Mi.Pi("seeking");const o=Math.min(Math.max(e()+.1,t.detail),s()-.1);!Number.isFinite(o)||!r()||(this.Li.Mi.Cc("seeked",t),this.Hb().setCurrentTime(o),a()&&t.isOriginTrusted&&Math.abs(s()-o)>=2&&h.set(!0))}"media-seeking-request"(t){this.Li.Mi.Cc("seeking",t),this.$state.seeking.set(!0),this.Li.Hd=!0}"media-start-loading"(t){this.$state.canLoad()||(this.Li.Mi.Cc("load",t),this.Ld.ge(this.createEvent("can-load")))}"media-text-track-change-request"(t){const{index:e,mode:s}=t.detail,n=this.h.textTracks[e];n&&(this.Li.Mi.Cc("textTrack",t),n.setMode(s,t))}"media-mute-request"(t){this.$state.muted()||(this.Li.Mi.Cc("volume",t),this.Hb().setMuted(!0))}"media-unmute-request"(t){const{muted:e,volume:s}=this.$state;e()&&(this.Li.Mi.Cc("volume",t),this.h.$provider().setMuted(!1),s()===0&&(this.Li.Mi.Cc("volume",t),this.Hb().setVolume(.25)))}"media-volume-change-request"(t){const{muted:e,volume:s}=this.$state,n=t.detail;s()!==n&&(this.Li.Mi.Cc("volume",t),this.Hb().setVolume(n),n>0&&e()&&(this.Li.Mi.Cc("volume",t),this.Hb().setMuted(!1)))}}function is(i,t){if(!(i&&t))throw Error("[vidstack] media not ready")}function Bi(i,t){if(!(t!=null&&t.supported))throw Error("[vidstack] no fullscreen support")}class Rh{constructor(){this.Hd=!1,this.Ui=!1,this.Qi=!1,this.Mi=new Dh}}var nr=_h;function _h(i,t,e){var s=null,n=null,r=function(){s&&(clearTimeout(s),n=null,s=null)},a=function(){var o=n;r(),o&&o()},h=function(){if(!t)return i.apply(this,arguments);var o=this,c=arguments,u=e&&!s;if(r(),n=function(){i.apply(o,c)},s=setTimeout(function(){if(s=null,!u){var f=n;return n=null,f()}},t),u)return n()};return h.cancel=r,h.flush=a,h}var Ke=qh;function qh(i,t,e){var s=null,n=null,r=e&&e.leading,a=e&&e.trailing;r==null&&(r=!0),a==null&&(a=!r),r==!0&&(a=!1);var h=function(){s&&(clearTimeout(s),s=null)},o=function(){var u=n;h(),u&&u()},c=function(){var u=r&&!s,f=this,m=arguments;if(n=function(){return i.apply(f,m)},s||(s=setTimeout(function(){if(s=null,a)return n()},t)),u)return u=!1,n()};return c.cancel=h,c.flush=o,c}const Nh=new Set(["autoplay","autoplay-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);class Fh extends Ht{constructor(t,e){super(),this.Zi=new Map,this.cj=!1,this.bj=!1,this.seeking=Ke(s=>{const{seeking:n,currentTime:r,paused:a}=this.$state;n.set(!0),r.set(s.detail),this._i("seeking",s),a()&&(this.$i=s,this.ej())},150,{leading:!0}),this.ej=nr(()=>{if(!this.$i)return;this.cj=!0;const{waiting:s,playing:n}=this.$state;s.set(!0),n.set(!1);const r=this.createEvent("waiting",{trigger:this.$i});this.Zi.set("waiting",r),this.dispatch(r),this.$i=void 0,this.cj=!1},300),this.Li=t,this.h=e}onAttach(t){t.setAttribute("aria-busy","true"),this.listen("fullscreen-change",this["fullscreen-change"].bind(this)),this.listen("fullscreen-error",this["fullscreen-error"].bind(this)),this.listen("orientation-change",this["orientation-change"].bind(this))}onConnect(t){this.kj(),this.lj(),this.mj(),this.nj(),k(this.oj.bind(this))}ge(t){var s;if(!this.scope)return;const e=t.type;(s=this[t.type])==null||s.call(this,t),Nh.has(e)&&this.Zi.set(e,t),this.dispatch(t)}nj(){var t;this.bj&&((t=this.h.$provider())!=null&&t.paused&&requestAnimationFrame(()=>{this.scope&&this.h.remote.play(new M("dom-connect"))}),this.bj=!1)}oj(){var t;this.bj||(this.bj=!this.h.$state.paused(),(t=this.h.$provider())==null||t.pause())}aj(){this.fj(),this.Li.Qi=!1,this.Li.Ui=!1,this.cj=!1,this.$i=void 0,this.Zi.clear()}_i(t,e){this.Li.Mi.sj(t,s=>{e.request=s,e.triggers.add(s)})}kj(){this.dj(),this.gj();const t=this.h.textTracks;p(t,"add",this.dj.bind(this)),p(t,"remove",this.dj.bind(this)),p(t,"mode-change",this.gj.bind(this))}lj(){const t=this.h.qualities;p(t,"add",this.G.bind(this)),p(t,"remove",this.G.bind(this)),p(t,"change",this.u.bind(this)),p(t,"auto-change",this.pj.bind(this)),p(t,"readonly-change",this.qj.bind(this))}mj(){const t=this.h.audioTracks;p(t,"add",this.hj.bind(this)),p(t,"remove",this.hj.bind(this)),p(t,"change",this.rj.bind(this))}dj(t){const{textTracks:e}=this.$state;e.set(this.h.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}gj(t){t&&this._i("textTrack",t);const e=this.h.textTracks.selected,{textTrack:s}=this.$state;s()!==e&&(s.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}hj(t){const{audioTracks:e}=this.$state;e.set(this.h.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}rj(t){const{audioTrack:e}=this.$state;e.set(this.h.audioTracks.selected),this._i("audioTrack",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}G(t){const{qualities:e}=this.$state;e.set(this.h.qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}u(t){const{quality:e}=this.$state;e.set(this.h.qualities.selected),this._i("quality",t),this.dispatch("quality-change",{detail:e(),trigger:t})}pj(){this.$state.autoQuality.set(this.h.qualities.auto)}qj(){this.$state.canSetQuality.set(!this.h.qualities.readonly)}"provider-change"(t){var n,r;const e=this.h.$provider(),s=t.detail;(e==null?void 0:e.type)!==(s==null?void 0:s.type)&&((n=e==null?void 0:e.destroy)==null||n.call(e),(r=e==null?void 0:e.scope)==null||r.dispose(),this.h.$provider.set(t.detail),e&&t.detail===null&&this.ij(t))}"provider-loader-change"(t){}autoplay(t){this.$state.autoplayError.set(null)}"autoplay-fail"(t){this.$state.autoplayError.set(t.detail),this.aj()}"can-load"(t){this.$state.canLoad.set(!0),this.Zi.set("can-load",t),this._i("load",t),this.h.textTracks[v.gd]()}"media-type-change"(t){const e=this.Zi.get("source-change");e&&t.triggers.add(e);const s=this.$state.viewType();this.$state.mediaType.set(t.detail);const n=this.$state.providedViewType(),r=n==="unknown"?t.detail:n;s!==r&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:r,trigger:t}))})},0)}"stream-type-change"(t){const e=this.Zi.get("source-change");e&&t.triggers.add(e);const{streamType:s,inferredStreamType:n}=this.$state;n.set(t.detail),t.detail=s()}"rate-change"(t){this.$state.playbackRate.set(t.detail),this._i("rate",t)}"sources-change"(t){this.$state.sources.set(t.detail)}"source-change"(t){var s;const e=this.Zi.get("sources-change");e&&t.triggers.add(e),this.ij(t),this.Zi.set(t.type,t),this.$state.source.set(t.detail),(s=this.el)==null||s.setAttribute("aria-busy","true")}ij(t){this.h.audioTracks[S.q](t),this.h.qualities[S.q](t),this.aj(),Ra(this.h.$state)}abort(t){const e=this.Zi.get("source-change");e&&t.triggers.add(e);const s=this.Zi.get("can-load");s&&!t.triggers.hasType("can-load")&&t.triggers.add(s)}"load-start"(t){const e=this.Zi.get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);const e=this.Zi.get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){const e=this.Zi.get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){const e=this.Zi.get("load-start");e&&t.triggers.add(e)}"can-play"(t){var s;const e=this.Zi.get("loaded-metadata");e&&t.triggers.add(e),this.jj(t.detail),(s=this.el)==null||s.setAttribute("aria-busy","false")}"can-play-through"(t){this.jj(t.detail);const e=this.Zi.get("can-play");e&&t.triggers.add(e)}jj(t){const{seekable:e,seekableEnd:s,buffered:n,duration:r,canPlay:a}=this.$state;a.set(!0),n.set(t.buffered),e.set(t.seekable),r.set(s())}"duration-change"(t){const{live:e,duration:s}=this.$state,n=t.detail;e()||s.set(Number.isNaN(n)?0:n)}progress(t){const{buffered:e,seekable:s,live:n,duration:r,seekableEnd:a}=this.$state,h=t.detail;e.set(h.buffered),s.set(h.seekable),n()&&(r.set(a),this.dispatch("duration-change",{detail:a(),trigger:t}))}play(t){const{paused:e,autoplayError:s,ended:n,autoplaying:r,playsinline:a,pointer:h,muted:o,viewType:c}=this.$state;if(t.autoplay=r(),this.Li.Ui||!e()){t.stopImmediatePropagation();return}const u=this.Zi.get("waiting");u&&t.triggers.add(u),this._i("play",t),this.Zi.set("play",t),e.set(!1),s.set(null),t.autoplay&&(this.ge(this.createEvent("autoplay",{detail:{muted:o()},trigger:t})),r.set(!1)),(n()||this.Li.Qi)&&(this.Li.Qi=!1,n.set(!1),this.ge(this.createEvent("replay",{trigger:t}))),!a()&&c()==="video"&&h()==="coarse"&&this.h.remote.enterFullscreen("prefer-media",t)}"play-fail"(t){const{muted:e,autoplaying:s}=this.$state,n=this.Zi.get("play");n&&t.triggers.add(n),this._i("play",t);const{paused:r,playing:a}=this.$state;r.set(!0),a.set(!1),this.aj(),this.Zi.set("play-fail",t),t.autoplay&&(this.ge(this.createEvent("autoplay-fail",{detail:{muted:e(),error:t.detail},trigger:t})),s.set(!1))}playing(t){const e=this.Zi.get("play"),s=this.Zi.get("seeked");e?t.triggers.add(e):s&&t.triggers.add(s),setTimeout(()=>this.aj(),0);const{paused:n,playing:r,live:a,liveSyncPosition:h,seekableEnd:o,started:c,currentTime:u,seeking:f,ended:m}=this.$state;if(n.set(!1),r.set(!0),f.set(!1),m.set(!1),this.Li.Ui){t.stopImmediatePropagation(),this.Li.Ui=!1;return}if(a()&&!c()&&u()===0){const g=h()??o()-2;Number.isFinite(g)&&this.h.$provider().setCurrentTime(g)}this.started(t)}started(t){const{started:e}=this.$state;e()||(e.set(!0),this.ge(this.createEvent("started",{trigger:t})))}pause(t){var r;if((r=this.el)!=null&&r.isConnected||(this.bj=!0),this.Li.Ui){t.stopImmediatePropagation();return}const e=this.Zi.get("seeked");e&&t.triggers.add(e),this._i("pause",t);const{paused:s,playing:n}=this.$state;s.set(!0),n.set(!1),this.aj()}"time-update"(t){const{currentTime:e,played:s,waiting:n}=this.$state,r=t.detail;e.set(r.currentTime),s.set(r.played),n.set(!1);for(const a of this.h.textTracks)a[v.fd](r.currentTime,t)}"volume-change"(t){const{volume:e,muted:s}=this.$state,n=t.detail;e.set(n.volume),s.set(n.muted||n.volume===0),this._i("volume",t)}seeked(t){const{seeking:e,currentTime:s,paused:n,duration:r,ended:a}=this.$state;if(this.Li.Hd)e.set(!0),t.stopImmediatePropagation();else if(e()){const h=this.Zi.get("waiting");h&&t.triggers.add(h);const o=this.Zi.get("seeking");o&&!t.triggers.has(o)&&t.triggers.add(o),n()&&this.fj(),e.set(!1),t.detail!==r()&&a.set(!1),s.set(t.detail),this._i("seeked",t);const c=t==null?void 0:t.originEvent;c!=null&&c.isTrusted&&!/seek/.test(c.type)&&this.started(t)}}waiting(t){this.cj||this.Li.Hd||(t.stopImmediatePropagation(),this.$i=t,this.ej())}end(t){const{loop:e}=this.$state;if(e()){setTimeout(()=>{requestAnimationFrame(()=>{this.dispatch("media-loop-request",{trigger:t})})},0);return}this.pa(t)}pa(t){const{paused:e,seeking:s,ended:n,duration:r}=this.$state;e()||this.dispatch("pause",{trigger:t}),s()&&this.dispatch("seeked",{detail:r(),trigger:t}),n.set(!0),this.aj(),this.dispatch("ended",{trigger:t})}fj(){this.ej.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(t){this.$state.fullscreen.set(t.detail),this._i("fullscreen",t)}"fullscreen-error"(t){this._i("fullscreen",t)}"orientation-change"(t){this._i("orientation",t)}"picture-in-picture-change"(t){this.$state.pictureInPicture.set(t.detail),this._i("pip",t)}"picture-in-picture-error"(t){this._i("pip",t)}"title-change"(t){t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail)}"poster-change"(t){t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail)}}class Hh extends Ht{onSetup(){this.tj(),l(this.vj.bind(this)),l(this.Od.bind(this)),l(this.wj.bind(this)),l(this.la.bind(this)),l(this.xj.bind(this)),l(this.Wc.bind(this)),l(this.yj.bind(this)),l(this.ae.bind(this)),l(this.zj.bind(this)),l(this.Aj.bind(this)),l(this.Bj.bind(this))}tj(){var e;const t={poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"};for(const s of Object.keys(this.$props))(e=this.$state[t[s]??s])==null||e.set(this.$props[s]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)}vj(){const{viewType:t,streamType:e,title:s,poster:n}=this.$props;this.$state.providedPoster.set(n()),this.$state.providedStreamType.set(e()),this.$state.providedViewType.set(t()),this.$state.providedTitle.set(s())}uj(){}Od(){const{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}wj(){const t=this.$props.autoplay();this.$state.autoplay.set(t),this.dispatch("autoplay-change",{detail:t})}xj(){const t=this.$props.loop();this.$state.loop.set(t),this.dispatch("loop-change",{detail:t})}Wc(){const t=this.$props.controls();this.$state.controls.set(t)}la(){const{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}yj(){const t=this.$props.crossorigin();this.$state.crossorigin.set(t===!0?"":t)}ae(){const t=this.$props.playsinline();this.$state.playsinline.set(t),this.dispatch("playsinline-change",{detail:t})}Aj(){this.dispatch("live-change",{detail:this.$state.live()})}zj(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}Bj(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}}let fs=w(!1);p(document,"pointerdown",()=>{fs.set(!1)}),p(document,"keydown",i=>{i.metaKey||i.altKey||i.ctrlKey||fs.set(!0)});class ht extends st{constructor(){super(...arguments),this.Gj=w(!1)}onConnect(t){l(()=>{if(!fs()){this.Gj.set(!1),fe(t,!1),this.listen("pointerenter",this.Hj.bind(this)),this.listen("pointerleave",this.Ij.bind(this));return}const e=document.activeElement===t;this.Gj.set(e),fe(t,e),this.listen("focus",this.Jj.bind(this)),this.listen("blur",this.Kj.bind(this))})}focused(){return this.Gj()}Jj(){this.Gj.set(!0),fe(this.el,!0)}Kj(){this.Gj.set(!1),fe(this.el,!1)}Hj(){Qi(this.el,!0)}Ij(){Qi(this.el,!1)}}function fe(i,t){T(i,"data-focus",t),T(i,"data-hocus",t)}function Qi(i,t){T(i,"data-hocus",t),T(i,"data-hover",t)}class Vh{constructor(){this.Lj=!1,this.Mj=os(),this.Mi=new Map}get Pj(){return this.Mi.size}get Qj(){return this.Lj}async Rj(){this.Lj||await this.Mj.promise}Cc(t,e){if(this.Lj){e();return}this.Mi.delete(t),this.Mi.set(t,e)}sj(t){var e;(e=this.Mi.get(t))==null||e(),this.Mi.delete(t)}T(){this.Nj(),this.Lj=!0,this.Mi.size>0&&this.Nj()}$(){this.Lj=!1}q(){this.$(),this.Mi.clear(),this.Oj()}Nj(){for(const t of this.Mi.keys())this.sj(t);this.Oj()}Oj(){this.Mj.resolve(),this.Mj=os()}}var Uh=Object.defineProperty,zh=Object.getOwnPropertyDescriptor,O=(i,t,e,s)=>{for(var n=s>1?void 0:s?zh(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Uh(t,e,n),n},ct;const C=(ct=class extends y{constructor(){super(),this.canPlayQueue=new Vh,this.Nd=!1,new Hh;const t={player:this,scope:He(),qualities:new bh,audioTracks:new gh,$provider:w(null),$providerSetup:w(!1),$props:this.$props,$state:this.$state};t.remote=new uh(void 0),t.remote.setPlayer(this),t.$iosControls=Ot(this.Wd.bind(this)),t.textTracks=new mh,t.textTracks[v.nd]=this.$state.crossorigin,t.textRenderers=new ph(t),t.ariaKeys={},this.h=t,J(Xn,t),this.orientation=new Pe,new ht,new kh(t);const e=new Rh;this.Ld=new Fh(e,t),this.Kd=new Ih(this.Ld,e,t),t.delegate=new jh(this.Ld.ge.bind(this.Ld),t),new Lh(this.startLoading.bind(this))}get Hb(){return this.h.$provider()}onSetup(){this.Xd(),l(this.Yd.bind(this)),l(this.Zd.bind(this)),l(this.Mc.bind(this)),l(this._d.bind(this)),l(this.$d.bind(this)),l(this.ae.bind(this)),l(this.be.bind(this))}onAttach(t){t.setAttribute("data-media-player",""),E(t,"tabindex","0"),E(t,"role","region"),l(this.Od.bind(this)),l(this.Pd.bind(this)),p(t,"find-media-player",this.ce.bind(this))}onConnect(t){Di&&T(t,"data-iphone",""),La().then(this.$state.canSetVolume.set);const e=window.matchMedia("(pointer: coarse)");this.Qd(e),e.onchange=this.Qd.bind(this);const s=new ResizeObserver(he(this.Md.bind(this)));s.observe(t),l(this.Md.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),k(()=>{s.disconnect(),e.onchange=null})}onDestroy(){this.h.player=null,this.canPlayQueue.q()}Od(){var o;if(this.Nd){this.Nd=!1;return}const{title:t,live:e,viewType:s}=this.$state,n=e(),r=Lr(s()),a=r!=="Unknown"?`${n?"Live ":""}${r}`:n?"Live":"Media",h=t();T(this.el,"aria-label",h?`${a} - ${h}`:a+" Player"),this.el&&customElements.get(this.el.localName)&&(this.Nd=!0),(o=this.el)==null||o.removeAttribute("title")}Pd(){const t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),T(this.el,"data-orientation",t),this.Md()}Yd(){this.$state.canPlay()&&this.Hb?this.canPlayQueue.T():this.canPlayQueue.$()}Xd(){if(ct[ss]){this.setAttributes(ct[ss]);return}const t={"data-captions":function(){const s=this.$state.textTrack();return!!s&&q(s)},"data-ios-controls":function(){return this.h.$iosControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canPlay:s,waiting:n}=this.$state;return!s()||n()},"data-error":function(){const{error:s}=this.$state;return!!s()},"data-autoplay-error":function(){const{autoplayError:s}=this.$state;return!!s()}},e={canPictureInPicture:"can-pip",pictureInPicture:"pip"};for(const s of Oh){const n="data-"+(e[s]??Ls(s));t[n]=function(){return this.$state[s]()}}delete t.title,ct[ss]=t,this.setAttributes(t)}ce(t){t.detail(this)}Md(){if(!this.el)return;const t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),z(this.el,"--player-width",t+"px"),z(this.el,"--player-height",e+"px")}Qd(t){const e=t.matches?"coarse":"fine";T(this.el,"data-pointer",e),this.$state.pointer.set(e),this.Md()}Wd(){const{playsinline:t,fullscreen:e}=this.$state;return Di&&!lh()&&this.$state.mediaType()==="video"&&(!t()||e())}get provider(){return this.Hb}get controls(){return this.Kd.he}get title(){return d(this.$state.providedTitle)}set title(t){this.Nd||this.$state.providedTitle.set(t)}get qualities(){return this.h.qualities}get audioTracks(){return this.h.audioTracks}get textTracks(){return this.h.textTracks}get textRenderers(){return this.h.textRenderers}get paused(){return d(this.$state.paused)}set paused(t){this.Rd(t)}Mc(){this.Rd(this.$props.paused())}Rd(t){t?this.canPlayQueue.Cc("paused",()=>this.Kd.de()):this.canPlayQueue.Cc("paused",()=>this.Kd.ee())}get muted(){return d(this.$state.muted)}set muted(t){this.Sd(t)}Zd(){this.Sd(this.$props.muted())}Sd(t){this.canPlayQueue.Cc("muted",()=>{this.Hb&&this.Hb.setMuted(t)})}get currentTime(){return d(this.$state.currentTime)}set currentTime(t){this.Td(t)}$d(){this.Td(this.$props.currentTime())}Td(t){this.canPlayQueue.Cc("currentTime",()=>{t!==d(this.$state.currentTime)&&d(()=>{if(!this.Hb)return;const e=Math.min(Math.max(this.$state.seekableStart()+.1,t),this.$state.seekableEnd()-.1);Number.isFinite(e)&&this.Hb.setCurrentTime(e)})})}get volume(){return d(this.$state.volume)}set volume(t){this.Ud(t)}_d(){this.Ud(this.$props.volume())}Ud(t){const e=Fs(0,t,1);this.canPlayQueue.Cc("volume",()=>{this.Hb&&this.Hb.setVolume(e)})}get playbackRate(){return d(this.$state.playbackRate)}set playbackRate(t){this.Vd(t)}be(){this.Vd(this.$props.playbackRate())}Vd(t){this.canPlayQueue.Cc("rate",()=>{var e,s;this.Hb&&((s=(e=this.Hb).setPlaybackRate)==null||s.call(e,t))})}ae(){this.fe(this.$props.playsinline())}fe(t){this.canPlayQueue.Cc("playsinline",()=>{var e,s;this.Hb&&((s=(e=this.Hb).setPlaysinline)==null||s.call(e,t))})}async play(t){return this.Kd.ee(t)}async pause(t){return this.Kd.de(t)}async enterFullscreen(t,e){return this.Kd.ie(t,e)}async exitFullscreen(t,e){return this.Kd.je(t,e)}enterPictureInPicture(t){return this.Kd.ke(t)}exitPictureInPicture(t){return this.Kd.le(t)}seekToLiveEdge(t){this.Kd.me(t)}startLoading(t){this.h.delegate.a("can-load",void 0,t)}matchQuery(t){return _(()=>Xt.create(t),this.scope)}destroy(){this.h.remote.setPlayer(null),this.dispatch("destroy")}},ct.props=Mh,ct.state=Rs,ct);O([b],C.prototype,"canPlayQueue",2);O([b],C.prototype,"provider",1);O([b],C.prototype,"controls",1);O([b],C.prototype,"orientation",2);O([b],C.prototype,"title",1);O([b],C.prototype,"qualities",1);O([b],C.prototype,"audioTracks",1);O([b],C.prototype,"textTracks",1);O([b],C.prototype,"textRenderers",1);O([b],C.prototype,"paused",1);O([b],C.prototype,"muted",1);O([b],C.prototype,"currentTime",1);O([b],C.prototype,"volume",1);O([b],C.prototype,"playbackRate",1);O([I],C.prototype,"play",1);O([I],C.prototype,"pause",1);O([I],C.prototype,"enterFullscreen",1);O([I],C.prototype,"exitFullscreen",1);O([I],C.prototype,"enterPictureInPicture",1);O([I],C.prototype,"exitPictureInPicture",1);O([I],C.prototype,"seekToLiveEdge",1);O([I],C.prototype,"startLoading",1);O([I],C.prototype,"matchQuery",1);let hc=C;function rr(i,t){return fetch(i,t).then(e=>e.text()).then(e=>{const s=Wh(e);if(s)return rr(/^https?:/.test(s)?s:new URL(s,i).href,t);const n=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(e)?"on-demand":"live";return n==="live"&&Kh(e)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(e)||e.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":n})}function Wh(i){const t=i.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return t?t[0].split(`
`)[1].trim():null}function Kh(i){const t=i.split(`
`);for(const e of t)if(e.startsWith("#EXT-X-TARGETDURATION")){const s=parseFloat(e.split(":")[1]);if(!isNaN(s))return s}return-1}const ar=new Map;class Bh{constructor(t,e,s,n=[]){this.yi=!1,this.qe=t,this.h=e,this.ne=s;const r=new ds,a=new ir,h=new Ph,o=new Ah,c=new Ch,u=[o,c];this.zi=Ot(()=>e.$props.preferNativeHLS()?[a,h,r,...u,...n]:[r,a,h,...u,...n]);const{$state:f}=e;f.sources.set(Yi(e.$props.src()));for(const m of f.sources()){const g=this.zi().find(A=>A.canPlay(m));if(!g)continue;const P=g.mediaType(m);this.h.$state.source.set(m),this.h.$state.mediaType.set(P),this.h.$state.inferredViewType.set(P),this.ne.set(g),this.yi=!0}}get a(){return this.h.delegate.a}connect(){const t=this.ne();this.yi&&(this.Ai(this.h.$state.source(),t),this.Bi(t),this.yi=!1),l(this.Di.bind(this)),l(this.Ei.bind(this)),l(this.Fi.bind(this)),l(this.Gi.bind(this))}Di(){this.a("sources-change",[...Yi(this.h.$props.src()),...this.qe()])}Ei(){var a;const{$state:t}=this.h,e=t.sources(),s=d(t.source),n=this.Ci(s,e);if(((a=e[0])==null?void 0:a.src)&&!n.src&&!n.type){const{crossorigin:h}=t,o=xe(h()),c=new AbortController;return Promise.all(e.map(u=>D(u.src)&&u.type==="?"?fetch(u.src,{method:"HEAD",credentials:o,signal:c.signal}).then(f=>(u.type=f.headers.get("content-type")||"??",ar.set(u.src,u.type),u)).catch(()=>u):u)).then(u=>{c.signal.aborted||(this.Ci(d(t.source),u),mt())}),()=>c.abort()}mt()}Ci(t,e){let s={src:"",type:""},n=null;for(const r of e){const a=d(this.zi).find(h=>h.canPlay(r));a&&(s=r,n=a)}return Zi(t,s)||this.Ai(s,n),n!==d(this.ne)&&this.Bi(n),s}Ai(t,e){this.a("source-change",t),this.a("media-type-change",(e==null?void 0:e.mediaType(t))||"unknown")}Bi(t){this.h.$providerSetup.set(!1),this.a("provider-change",null),t&&d(()=>{var e;return(e=t.preconnect)==null?void 0:e.call(t,this.h)}),this.ne.set(t),this.a("provider-loader-change",t)}Fi(){const t=this.h.$provider();if(!(!t||d(this.h.$providerSetup))){if(this.h.$state.canLoad()){_(()=>t.setup(this.h),t.scope),this.h.$providerSetup.set(!0);return}d(()=>{var e;return(e=t.preconnect)==null?void 0:e.call(t,this.h)})}}Gi(){if(!this.h.$providerSetup())return;const t=this.h.$provider(),e=this.h.$state.source(),s=d(this.h.$state.crossorigin);if(!Zi(t==null?void 0:t.currentSrc,e)){if(this.h.$state.canLoad()){const n=new AbortController;return Ns(e)?Yn()||rr(e.src,{credentials:xe(s),signal:n.signal}).then(r=>{this.a("stream-type-change",r)}).catch(Os):this.a("stream-type-change","on-demand"),d(()=>t==null?void 0:t.loadSource(e,d(this.h.$state.preload))),()=>n.abort()}try{D(e.src)&&Jn(new URL(e.src).origin,"preconnect")}catch{}}}}function Yi(i){return(Z(i)?i:[!D(i)&&"src"in i?i:{src:i}]).map(({src:t,type:e,...s})=>({src:t,type:e??(D(t)?ar.get(t):null)??(!D(t)||t.startsWith("blob:")?"video/object":t.includes("youtube")?"video/youtube":t.includes("vimeo")?"video/vimeo":"?"),...s}))}function Zi(i,t){return(i==null?void 0:i.src)===(t==null?void 0:t.src)&&(i==null?void 0:i.type)===(t==null?void 0:t.type)}class Qh{constructor(t,e){this.Hi=[],this.re=t,this.h=e,l(this.Ii.bind(this))}Ii(){const t=this.re();for(const e of this.Hi)if(!t.some(s=>s.id===e.id)){const s=e.id&&this.h.textTracks.getById(e.id);s&&this.h.textTracks.remove(s)}for(const e of t){const s=e.id||ls.createId(e);this.h.textTracks.getById(s)||(e.id=s,this.h.textTracks.add(e))}this.Hi=t}}var Yh=Object.defineProperty,Zh=Object.getOwnPropertyDescriptor,Xh=(i,t,e,s)=>{for(var n=s>1?void 0:s?Zh(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Yh(t,e,n),n};const Le=class Le extends y{constructor(){super(...arguments),this.qe=w([]),this.re=w([]),this.ne=null,this.oe=-1}onSetup(){this.h=x(),this.pe=new Bh(this.qe,this.h,this.$state.loader,this.$props.loaders())}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){this.pe.connect(),new Qh(this.re,this.h);const e=new ResizeObserver(he(this.Md.bind(this)));e.observe(t);const s=new MutationObserver(this.se.bind(this));s.observe(t,{attributes:!0,childList:!0}),this.Md(),this.se(),k(()=>{e.disconnect(),s.disconnect()})}load(t){window.cancelAnimationFrame(this.oe),this.oe=requestAnimationFrame(()=>this.ue(t)),k(()=>{window.cancelAnimationFrame(this.oe)})}ue(t){if(!this.scope)return;const e=this.$state.loader(),{$provider:s}=this.h;this.ne===e&&(e==null?void 0:e.target)===t&&d(s)||(this.te(),this.ne=e,e&&(e.target=t||null),!(!e||!t)&&e.load(this.h).then(n=>{this.scope&&d(this.$state.loader)===e&&this.h.delegate.a("provider-change",n)}))}onDestroy(){this.ne=null,this.te()}te(){this.h.delegate.a("provider-change",null)}Md(){if(!this.el)return;const t=this.h.player,e=this.el.offsetWidth,s=this.el.offsetHeight;t&&(t.$state.mediaWidth.set(e),t.$state.mediaHeight.set(s),t.el&&(z(t.el,"--media-width",e+"px"),z(t.el,"--media-height",s+"px")))}se(){const t=[],e=[],s=this.el.children;for(const n of s)n instanceof HTMLSourceElement?t.push({src:n.src,type:n.type}):n instanceof HTMLTrackElement&&e.push({id:n.id,src:n.src,kind:n.track.kind,language:n.srclang,label:n.label,default:n.default,type:n.getAttribute("data-type")});this.qe.set(t),this.re.set(e),mt()}};Le.props={loaders:[]},Le.state=new Mt({loader:null});let ps=Le;Xh([I],ps.prototype,"load",1);const Zs=class Zs extends y{onSetup(){this.h=x(),l(this.we.bind(this))}onAttach(t){const{pictureInPicture:e,fullscreen:s}=this.h.$state;z(t,"pointer-events","none"),E(t,"role","group"),this.setAttributes({"data-visible":this.ve.bind(this),"data-fullscreen":s,"data-pip":e}),l(()=>{this.dispatch("change",{detail:this.ve()})}),l(this.xe.bind(this)),l(()=>{const n=s();for(const r of["top","right","bottom","left"])z(t,`padding-${r}`,n&&`env(safe-area-inset-${r})`)})}xe(){if(!this.el)return;const{$iosControls:t}=this.h,{controls:e}=this.h.$state,s=e()||t();T(this.el,"aria-hidden",s?"true":null),z(this.el,"display",s?"none":null)}we(){const{controls:t}=this.h.player,{hideDelay:e,hideOnMouseLeave:s}=this.$props;t.defaultDelay=e()===2e3?this.h.$props.controlsDelay():e(),t.hideOnMouseLeave=s()}ve(){const{controlsVisible:t}=this.h.$state;return t()}};Zs.props={hideDelay:2e3,hideOnMouseLeave:!1};let Xi=Zs;class hr extends st{constructor(t){super(),this.Tj=-1,this.Uj=-1,this.Sj=null,this.$e=t,l(this.Vj.bind(this))}onDestroy(){var t;(t=this.Sj)==null||t.call(this),this.Sj=null}Vj(){const t=this.$e.ye();if(!t){this.hide();return}const e=this.show.bind(this),s=this.hide.bind(this);this.$e.Ge(t,e,s)}show(t){var e,s,n;window.cancelAnimationFrame(this.Uj),this.Uj=-1,(e=this.Sj)==null||e.call(this),this.Sj=null,this.Tj=window.setTimeout(()=>{this.Tj=-1;const r=this.$e.ze();r&&r.style.removeProperty("display"),d(()=>this.$e.tb(!0,t))},((n=(s=this.$e).Fe)==null?void 0:n.call(s))??0)}hide(t){window.clearTimeout(this.Tj),this.Tj=-1,d(()=>this.$e.tb(!1,t)),this.Uj=requestAnimationFrame(()=>{var s;this.Uj=-1;const e=this.$e.ze();if(e){const n=Ja(e),r=()=>{e.style.display="none",this.Sj=null};if(n){(s=this.Sj)==null||s.call(this);const a=p(e,"animationend",r,{once:!0});this.Sj=a}else r()}})}}const ge=wt();let Jh=0;const Xs=class Xs extends y{constructor(){super(),this.ib=`media-tooltip-${++Jh}`,this.ye=w(null),this.ze=w(null),new ht;const{showDelay:t}=this.$props;new hr({ye:this.ye,ze:this.ze,Fe:t,Ge(e,s,n){p(e,"touchstart",r=>r.preventDefault(),{passive:!1}),p(e,"focus",s),p(e,"blur",n),p(e,"mouseenter",s),p(e,"mouseleave",n)},tb:this.Ee.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onSetup(){J(ge,{ye:this.ye,ze:this.ze,Ae:this.Ae.bind(this),Be:this.Be.bind(this),Ce:this.Ce.bind(this),De:this.De.bind(this)})}Ae(t){var s;this.ye.set(t);let e=t.getAttribute("data-media-tooltip");e&&((s=this.el)==null||s.setAttribute(`data-media-${e}-tooltip`,"")),T(t,"data-describedby",this.ib)}Be(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),this.ye.set(null)}Ce(t){t.setAttribute("id",this.ib),t.style.display="none",E(t,"role","tooltip"),this.ze.set(t)}De(t){t.removeAttribute("id"),t.removeAttribute("role"),this.ze.set(null)}Ee(t){const e=this.ye(),s=this.ze();e&&T(e,"aria-describedby",t?this.ib:null);for(const n of[this.el,e,s])n&&T(n,"data-visible",t)}};Xs.props={showDelay:500};let Ji=Xs;const Js=class Js extends y{constructor(){super(),new ht;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){this.Ie(t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){this.Ie(t);const e=L(ge);k(()=>e.De(t)),k(us(()=>{this.connectScope&&l(this.Je.bind(this))}))}Ie(t){L(ge).Ce(t)}Je(){const{placement:t,offset:e,alignOffset:s}=this.$props;return er(this.el,this.Ke(),t(),{offsetVarName:"media-tooltip",xOffset:s(),yOffset:e()})}Ke(){return L(ge).ye()}};Js.props={placement:"top center",offset:0,alignOffset:0};let Gi=Js;const Gs=class Gs extends st{constructor(t){super(),this.$e=t,new ht,t.Pe&&new Sh(t.Pe)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.$e.Me,"aria-pressed":this.Wj.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){E(t,"tabindex","0"),E(t,"role","button"),E(t,"type","button")}onConnect(t){St(t,this.Xj.bind(this));for(const e of["click","touchstart"])this.listen(e,this.Yj.bind(this))}Wj(){return Te(this.$e.Me())}Zj(t){Pr(this.$e.Me)&&this.$e.Me.set(e=>!e)}Xj(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(this.$e.Ne??this.Zj).call(this,t)}Yj(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}};Gs.props={disabled:!1};let K=Gs;var Gh=Object.defineProperty,to=Object.getOwnPropertyDescriptor,eo=(i,t,e,s)=>{for(var n=s>1?void 0:s?to(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Gh(t,e,n),n};const ti=class ti extends y{constructor(){super(),this.Le=w(!1),new K({Me:this.Le})}get pressed(){return this.Le()}};ti.props={disabled:!1,defaultPressed:!1};let ms=ti;eo([b],ms.prototype,"pressed",1);const ei=class ei extends y{constructor(){super(),new K({Me:this.Me.bind(this),Pe:"togglePaused",Ne:this.Ne.bind(this)})}onSetup(){this.h=x();const{paused:t,ended:e}=this.h.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),Ft(t,this.Oe.bind(this))}Ne(t){const e=this.h.remote;this.Me()?e.pause(t):e.play(t)}Me(){const{paused:t}=this.h.$state;return!t()}Oe(){const{paused:t}=this.h.$state;return t()?"Play":"Pause"}};ei.props=K.props;let tn=ei;function so(i){return i?"true":"false"}function tt(i){return()=>so(i())}const si=class si extends y{constructor(){super(),new K({Me:this.Me.bind(this),Pe:"toggleCaptions",Ne:this.Ne.bind(this)})}onSetup(){this.h=x(),this.setAttributes({"data-active":this.Me.bind(this),"data-supported":()=>!this.Qe(),"aria-hidden":tt(this.Qe.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),Ft(t,this.Oe.bind(this))}Ne(t){this.h.remote.toggleCaptions(t)}Me(){const{textTrack:t}=this.h.$state,e=t();return!!e&&q(e)}Qe(){const{textTracks:t}=this.h.$state;return t().filter(q).length==0}Oe(){const{textTrack:t}=this.h.$state;return t()?"Closed-Captions Off":"Closed-Captions On"}};si.props=K.props;let en=si;const ii=class ii extends y{constructor(){super(),new K({Me:this.Me.bind(this),Pe:"toggleFullscreen",Ne:this.Ne.bind(this)})}onSetup(){this.h=x();const{fullscreen:t}=this.h.$state,e=this.Re.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":tt(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),Ft(t,this.Oe.bind(this))}Ne(t){const e=this.h.remote,s=this.$props.target();this.Me()?e.exitFullscreen(s,t):e.enterFullscreen(s,t)}Me(){const{fullscreen:t}=this.h.$state;return t()}Re(){const{canFullscreen:t}=this.h.$state;return t()}Oe(){const{fullscreen:t}=this.h.$state;return t()?"Exit Fullscreen":"Enter Fullscreen"}};ii.props={...K.props,target:"prefer-media"};let sn=ii;const ni=class ni extends y{constructor(){super(),new K({Me:this.Me.bind(this),Pe:"toggleMuted",Ne:this.Ne.bind(this)})}onSetup(){this.h=x(),this.setAttributes({"data-muted":this.Me.bind(this),"data-state":this.Se.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),Ft(t,this.Oe.bind(this))}Ne(t){const e=this.h.remote;this.Me()?e.unmute(t):e.mute(t)}Me(){const{muted:t,volume:e}=this.h.$state;return t()||e()===0}Oe(){return this.Me()?"Unmute":"Mute"}Se(){const{muted:t,volume:e}=this.h.$state,s=e();if(t()||s===0)return"muted";if(s>=.5)return"high";if(s<.5)return"low"}};ni.props=K.props;let nn=ni;const ri=class ri extends y{constructor(){super(),new K({Me:this.Me.bind(this),Pe:"togglePictureInPicture",Ne:this.Ne.bind(this)})}onSetup(){this.h=x();const{pictureInPicture:t}=this.h.$state,e=this.Re.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":tt(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),Ft(t,this.Oe.bind(this))}Ne(t){const e=this.h.remote;this.Me()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}Me(){const{pictureInPicture:t}=this.h.$state;return t()}Re(){const{canPictureInPicture:t}=this.h.$state;return t()}Oe(){const{pictureInPicture:t}=this.h.$state;return t()?"Exit Picture In Picture":"Enter Picture In Picture"}};ri.props=K.props;let rn=ri;const ai=class ai extends y{constructor(){super(),new ht}onSetup(){this.h=x();const{seeking:t}=this.h.$state,{seconds:e}=this.$props,s=this.Re.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":s,"aria-hidden":tt(()=>!s())})}onAttach(t){E(t,"tabindex","0"),E(t,"role","button"),E(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),Ft(t,this.Oe.bind(this))}onConnect(t){St(t,this.Ne.bind(this))}Re(){const{canSeek:t}=this.h.$state;return t()}Oe(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`}Ne(t){const{seconds:e,disabled:s}=this.$props;if(s())return;const{currentTime:n}=this.h.$state,r=n()+e();this.h.remote.seek(r,t)}};ai.props={disabled:!1,seconds:30};let an=ai;const hi=class hi extends y{constructor(){super(),new ht}onSetup(){this.h=x();const{disabled:t}=this.$props,{live:e,liveEdge:s}=this.h.$state,n=()=>!e();this.setAttributes({"data-edge":s,"data-hidden":n,"aria-disabled":tt(()=>t()||s()),"aria-hidden":tt(n)})}onAttach(t){E(t,"tabindex","0"),E(t,"role","button"),E(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){St(t,this.Ne.bind(this))}Ne(t){const{disabled:e}=this.$props,{liveEdge:s}=this.h.$state;e()||s()||this.h.remote.seekToLiveEdge(t)}};hi.props={disabled:!1};let hn=hi;const Hs=new Mt({min:0,max:100,value:0,pointerValue:0,focused:!1,dragging:!1,pointing:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return on(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return on(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});function on(i,t,e){const s=t-i,n=e-i;return s>0?n/s:0}function io(i,t,e,s){return Fs(i,N(e,hh(s)),t)}function no(i,t,e,s){const n=Fs(0,e,1),r=t-i,a=r*n,h=a/s,o=s*h;return i+o}const cn={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class ro extends st{constructor(t,e){super(),this.Hb=null,this._j=null,this.ak=null,this.ok=Ke(s=>{this.$j(this.bk(s),s)},20,{leading:!0}),this.$e=t,this.h=e}onConnect(){var t;if(l(this.hk.bind(this)),l(this.ik.bind(this)),this.$e.Kf){const e=(t=this.h.player.el)==null?void 0:t.querySelector("media-provider,[data-media-provider]");e&&(this.Hb=e,p(e,"touchstart",this.jk.bind(this),{passive:!0}),p(e,"touchmove",this.kk.bind(this),{passive:!1}))}}jk(t){this._j=t.touches[0]}kk(t){if($t(this._j)||qs(t))return;const e=t.touches[0],s=e.clientX-this._j.clientX,n=e.clientY-this._j.clientY,r=this.$state.dragging();!r&&Math.abs(n)>20||r||Math.abs(s)>20&&(this._j=e,this.ak=this.$state.value(),this.ck(this.ak,t))}hk(){this.$e._e()||(this.listen("focus",this.Jj.bind(this)),this.listen("pointerenter",this.Hj.bind(this)),this.listen("pointermove",this.lk.bind(this)),this.listen("pointerleave",this.Ij.bind(this)),this.listen("pointerdown",this.mk.bind(this)),this.listen("keydown",this.Fd.bind(this)),this.listen("keyup",this.Ed.bind(this)))}ik(){this.$e._e()||!this.$state.dragging()||(p(document,"pointerup",this.nk.bind(this)),p(document,"pointermove",this.ok.bind(this)),Ca&&p(document,"touchmove",this.pk.bind(this),{passive:!1}))}Jj(){this.$j(this.$state.value())}dk(t,e){var c,u,f,m;const{value:s,min:n,max:r,dragging:a}=this.$state,h=Math.max(n(),Math.min(t,r()));s.set(h);const o=this.createEvent("value-change",{detail:h,trigger:e});if(this.dispatch(o),(u=(c=this.$e).uf)==null||u.call(c,o),a()){const g=this.createEvent("drag-value-change",{detail:h,trigger:e});this.dispatch(g),(m=(f=this.$e).tf)==null||m.call(f,g)}}$j(t,e){const{pointerValue:s,dragging:n}=this.$state;s.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),n()&&this.dk(t,e)}bk(t){let e,s=this.el.getBoundingClientRect(),{min:n,max:r}=this.$state;if(this.$props.orientation()==="vertical"){const{bottom:a,height:h}=s;e=(a-t.clientY)/h}else if(this._j&&we(this.ak)){const{width:a}=this.Hb.getBoundingClientRect(),h=(t.clientX-this._j.clientX)/a,o=r()-n(),c=o*Math.abs(h);e=(h<0?this.ak-c:this.ak+c)/o}else{const{left:a,width:h}=s;e=(t.clientX-a)/h}return Math.max(n(),Math.min(r(),this.$e.Ze(no(n(),r(),e,this.$e.Xe()))))}Hj(t){this.$state.pointing.set(!0)}lk(t){const{dragging:e}=this.$state;e()||this.$j(this.bk(t),t)}Ij(t){this.$state.pointing.set(!1)}mk(t){if(t.button!==0)return;const e=this.bk(t);this.ck(e,t),this.$j(e,t)}ck(t,e){var r,a;const{dragging:s}=this.$state;if(s())return;s.set(!0),this.h.remote.pauseControls(e);const n=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(n),(a=(r=this.$e).Bf)==null||a.call(r,n)}fk(t,e){var r,a;const{dragging:s}=this.$state;if(!s())return;s.set(!1),this.h.remote.resumeControls(e);const n=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(n),(a=(r=this.$e).yf)==null||a.call(r,n),this._j=null,this.ak=null}Fd(t){const{key:e}=t,{min:s,max:n}=this.$state;let r;if(e==="Home"||e==="PageUp"?r=s():e==="End"||e==="PageDown"?r=n():!t.metaKey&&/[0-9]/.test(e)&&(r=(n()-s())/10*Number(e)),!U(r)){this.$j(r,t),this.dk(r,t);return}const a=this.gk(t);if(U(a))return;const h=e===this.ek;!this.$state.dragging()&&h&&this.ck(a,t),this.$j(a,t),h||this.dk(a,t),this.ek=e}Ed(t){this.ek="";const{dragging:e,value:s}=this.$state;if(!e())return;const n=this.gk(t)??s();this.$j(n),this.fk(n,t)}gk(t){const{key:e,shiftKey:s}=t;if(!Object.keys(cn).includes(e))return;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:r}=this.$props,{value:a,min:h,max:o}=this.$state,c=this.$e.Xe(),u=this.$e.Ye(),f=s?u*r():u,m=Number(cn[e]),g=f*m,P=(a()+g)/c;return Math.max(h(),Math.min(o(),Number((c*P).toFixed(3))))}nk(t){if(t.button!==0)return;const e=this.bk(t);this.$j(e,t),this.fk(e,t)}pk(t){t.preventDefault()}}const Jt=wt(()=>({})),Vs=wt(),oi=class oi extends st{constructor(t){super(),this.ef=he((e,s)=>{var n,r;(n=this.el)==null||n.style.setProperty("--slider-fill",e+"%"),(r=this.el)==null||r.style.setProperty("--slider-pointer",s+"%")}),this.$e=t}onSetup(){this.h=x();const t=new ht;t.attach(this),this.$state.focused=t.focused.bind(t),at(Jt)||J(Jt,{default:"value"}),J(Vs,{ff:this.$props.orientation,gf:this.$e._e,hf:w(null)}),l(this.Ve.bind(this)),l(this.bf.bind(this)),this.cf(),new ro(this.$e,this.h).attach(this)}onAttach(t){E(t,"role","slider"),E(t,"tabindex","0"),E(t,"autocomplete","off"),l(this.af.bind(this))}Ve(){const{dragging:t,value:e,min:s,max:n}=this.$state;d(t)||e.set(io(s(),n(),e(),this.$e.Xe()))}bf(){if(!this.$e._e())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}df(){return Te(this.$e._e())}cf(){const{orientation:t}=this.$props,{dragging:e,active:s,pointing:n}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":n,"data-active":s,"aria-disabled":this.df.bind(this),"aria-valuemin":this.$state.min,"aria-valuemax":this.$state.max,"aria-valuenow":this.$e.Te,"aria-valuetext":this.$e.Ue,"aria-orientation":t})}af(){const{fillPercent:t,pointerPercent:e}=this.$state;this.ef(N(t(),3),N(e(),3))}};oi.props={disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};let yt=oi;const je=class je extends y{constructor(){super(),new yt({Xe:this.$props.step,Ye:this.$props.keyStep,Ze:Math.round,_e:this.$props.disabled,Te:this.Te.bind(this),Ue:this.Ue.bind(this)})}onSetup(){l(this.Ve.bind(this)),l(this.We.bind(this))}Te(){const{value:t}=this.$state;return Math.round(t())}Ue(){const{value:t,max:e}=this.$state;return N(t()/e()*100,2)+"%"}Ve(){const{value:t}=this.$props;this.$state.value.set(t())}We(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}};je.props={...yt.props,min:0,max:100,value:0},je.state=Hs;let Gt=je;const ot=new Map,ns=new Set,rs=new Set;class Us{constructor(t,e){this.$cues=w([]),this.$src=t,this.h=e,l(this.Th.bind(this)),rs.add(this),k(()=>rs.delete(this))}static create(t){const e=x();return new Us(t,e)}Th(){const{canLoad:t}=this.h.$state;if(!t())return;const e=new AbortController,{crossorigin:s}=this.h.$state,n=this.$src();if(n){if(ot.has(n)){const r=ot.get(n);if(ot.delete(n),ot.set(n,r),ot.size>30){const a=ot.keys().next().value;ot.delete(a)}this.$cues.set(ot.get(n))}else ns.has(n)||(ns.add(n),ut(()=>import("./prod-qq4cA8cI.js").then(r=>r.d),__vite__mapDeps([0,1])).then(async({parseResponse:r})=>{try{const a=await fetch(n,{signal:e.signal,credentials:xe(s())});if(a.headers.get("content-type")==="application/json"){try{const{cues:c}=Gn(await a.text(),window.VTTCue);this.Sh(n,c)}catch{}return}const{cues:o}=await r(a);this.Sh(n,o)}catch{}}));return()=>{e.abort(),this.$cues.set([])}}}Sh(t,e){this.$cues.set(e);for(const s of rs)d(s.$src)===t&&s.$cues.set(e);ot.set(t,e),ns.delete(t)}}const De=class De extends y{constructor(){super(...arguments),this.Kh=[],this.Lh=he(this.Rh.bind(this))}onSetup(){this.h=x(),this.Jh=Us.create(this.$props.src),this.setAttributes({"data-loading":this.lf.bind(this),"data-error":this.kf.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":tt(this.$state.hidden)})}onConnect(t){l(this.Gh.bind(this)),l(this.nf.bind(this)),l(this.Mb.bind(this)),l(this.Mh.bind(this)),l(this.Nh.bind(this))}Gh(){const t=this.$state.img();t&&(p(t,"load",this.uc.bind(this)),p(t,"error",this.Q.bind(this)))}Mb(){const{src:t,loading:e,error:s}=this.$state;t(),e.set(!0),s.set(null)}uc(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null),this.Lh()}Q(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}lf(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}kf(){const{error:t}=this.$state;return!$t(t())}nf(){const{hidden:t}=this.$state,{duration:e}=this.h.$state,s=this.Jh.$cues();t.set(this.kf()||!Number.isFinite(e())||s.length===0)}jf(){return this.$props.time()}Mh(){const t=this.jf(),{activeCue:e}=this.$state,{duration:s}=this.h.$state,n=this.Jh.$cues();if(!n||!Number.isFinite(s())){e.set(null);return}e.set(Za(n,t))}Nh(){let{activeCue:t}=this.$state,e=t(),s=d(this.$props.src);if(/^https?:/.test(s)||(s=location.href),!s||!e){this.$state.src.set(""),this.Oh();return}const[n,r=""]=(e.text||"").split("#");this.$state.coords.set(this.Ph(r)),this.$state.src.set(this.Qh(n,s)),this.Lh()}Qh(t,e){return/^https?:/.test(t)?t:new URL(t,e).href}Ph(t){const[e,s]=t.split("="),n={},r=s==null?void 0:s.split(",");if(!e||!s)return null;for(let a=0;a<e.length;a++)n[e[a]]=+r[a];return n}Rh(){if(!this.scope)return;const t=this.$state.img(),e=this.$state.coords();if(!t||!this.el)return;const s=(e==null?void 0:e.w)??t.naturalWidth,n=(e==null?void 0:e.h)??t.naturalHeight,{maxWidth:r,maxHeight:a,minWidth:h,minHeight:o}=getComputedStyle(this.el),c=Math.max(parseInt(h)/s,parseInt(o)/n),u=Math.min(parseInt(r)/s,parseInt(a)/n),f=u<1?u:c>1?c:1;this.Ih(this.el,"--thumbnail-width",`${s*f}px`),this.Ih(this.el,"--thumbnail-height",`${n*f}px`),this.Ih(t,"width",`${t.naturalWidth*f}px`),this.Ih(t,"height",`${t.naturalHeight*f}px`),this.Ih(t,"transform",e?`translate(-${e.x*f}px, -${e.y*f}px)`:""),this.Ih(t,"max-width","none")}Ih(t,e,s){t.style.setProperty(e,s),this.Kh.push(()=>t.style.removeProperty(e))}Oh(){for(const t of this.Kh)t();this.Kh=[]}};De.props={src:"",time:0},De.state=new Mt({src:"",img:null,coords:null,activeCue:null,loading:!1,error:null,hidden:!1});let ln=De;var ao=Object.defineProperty,ho=Object.getOwnPropertyDescriptor,oo=(i,t,e,s)=>{for(var n=s>1?void 0:s?ho(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&ao(t,e,n),n};const Ie=class Ie extends y{get video(){return this.$state.video()}onSetup(){this.h=x(),this.Za=Ue(Gt.state),this.setAttributes({"data-loading":this.lf.bind(this),"data-hidden":this.$state.hidden,"data-error":this.kf.bind(this),"aria-hidden":tt(this.$state.hidden)})}onAttach(t){l(this.mf.bind(this)),l(this.mb.bind(this)),l(this.nf.bind(this)),l(this.of.bind(this)),l(this.pf.bind(this))}mf(){const t=this.$state.video();t&&(t.readyState>=2&&this.Rb(),p(t,"canplay",this.Rb.bind(this)),p(t,"error",this.Q.bind(this)))}mb(){const{src:t}=this.$state,{canLoad:e}=this.h.$state;t.set(e()?this.$props.src():null)}lf(){const{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}kf(){const{error:t}=this.$state;return!$t(t)}nf(){const{src:t,hidden:e}=this.$state,{canLoad:s,duration:n}=this.h.$state;e.set(s()&&(!t()||this.kf()||!Number.isFinite(n())))}of(){const{src:t,canPlay:e,error:s}=this.$state;t(),e.set(!1),s.set(null)}Rb(t){const{canPlay:e,error:s}=this.$state;e.set(!0),s.set(null),this.dispatch("can-play",{trigger:t})}Q(t){const{canPlay:e,error:s}=this.$state;e.set(!1),s.set(t),this.dispatch("error",{trigger:t})}pf(){const{video:t,canPlay:e}=this.$state,{duration:s}=this.h.$state,{pointerRate:n}=this.Za,r=t();e()&&r&&Number.isFinite(s())&&Number.isFinite(n())&&(r.currentTime=n()*s())}};Ie.props={src:null},Ie.state=new Mt({video:null,src:null,canPlay:!1,error:null,hidden:!1});let gs=Ie;oo([b],gs.prototype,"video",1);function as(i,t){const e=String(i),s=e.length;if(s<t){const r=t-s;return`${"0".repeat(r)}${i}`}return e}function or(i){const t=Math.trunc(i/3600),e=Math.trunc(i%3600/60),s=Math.trunc(i%60),n=Number((i-Math.trunc(i)).toPrecision(3));return{hours:t,minutes:e,seconds:s,fraction:n}}function Be(i,t=null,e=null,s=!1){const{hours:n,minutes:r,seconds:a}=or(i),h=t?as(n,2):n,o=e||$t(e)&&i>=3600?as(r,2):r,c=as(a,2);return n>0||s?`${h}:${o}:${c}`:`${o}:${c}`}function bs(i){const t=[],{hours:e,minutes:s,seconds:n}=or(i);return e>0&&t.push(`${e} hour`),s>0&&t.push(`${s} min`),(n>0||t.length===0)&&t.push(`${n} sec`),t.join(" ")}var co=Object.defineProperty,lo=Object.getOwnPropertyDescriptor,uo=(i,t,e,s)=>{for(var n=s>1?void 0:s?lo(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&co(t,e,n),n};const ci=class ci extends y{onSetup(){this.Za=Ue(Gt.state),this.qf=L(Jt),this.rf=Ot(this.getValueText.bind(this))}getValueText(){var g,P;const{type:t,format:e,decimalPlaces:s,padHours:n,padMinutes:r,showHours:a}=this.$props,{value:h,pointerValue:o,min:c,max:u}=this.Za,f=e()??this.qf.default,m=t()==="current"?h():o();if(f==="percent"){const A=u()-c(),B=m/A*100;return(this.qf.percent??N)(B,s())+"﹪"}else return f==="time"?(this.qf.time??Be)(m,n(),r(),a()):((P=(g=this.qf).value)==null?void 0:P.call(g,m))??m.toFixed(2)}};ci.props={type:"pointer",format:null,showHours:!1,padHours:null,padMinutes:null,decimalPlaces:2};let ys=ci;uo([I],ys.prototype,"getValueText",1);const li=class li extends y{onSetup(){this.Za=L(Vs);const{active:t}=Ue(Gt.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{hf:e}=this.Za;e.set(t),k(()=>e.set(null)),l(this.sf.bind(this));const s=new ResizeObserver(this.sf.bind(this));s.observe(t),k(()=>s.disconnect())}sf(){const{gf:t,ff:e}=this.Za;if(t())return;const s=this.el,{offset:n,noClamp:r}=this.$props;fo(s,{clamp:!r(),offset:n(),orientation:e()})}};li.props={offset:0,noClamp:!1};let un=li;function fo(i,{clamp:t,offset:e,orientation:s}){const{width:n,height:r}=i.getBoundingClientRect(),a={top:null,right:null,bottom:null,left:null};if(a[s==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${e}px))`,s==="horizontal"){const h=n/2;if(!t)a.left=`calc(var(--slider-pointer) - ${h}px)`;else{const o=`max(0px, calc(var(--slider-pointer) - ${h}px))`,c=`calc(100% - ${n}px)`;a.left=`min(${o}, ${c})`}}else{const h=r/2;if(!t)a.bottom=`calc(var(--slider-pointer) - ${h}px)`;else{const o=`max(${h}px, calc(var(--slider-pointer) - ${h}px))`,c=`calc(100% - ${r}px)`;a.bottom=`min(${o}, ${c})`}}Object.assign(i.style,a)}const Re=class Re extends y{constructor(){super(...arguments),this.vf=Ke(this.t.bind(this),25)}onSetup(){this.h=x(),J(Jt,{default:"percent"}),new yt({Xe:this.$props.step,Ye:this.$props.keyStep,_e:this.$props.disabled,Ze:Math.round,Te:this.Te.bind(this),Ue:this.Ue.bind(this),tf:this.tf.bind(this),uf:this.uf.bind(this)}).attach(this),l(this._d.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),E(t,"aria-label","Volume");const{canSetVolume:e}=this.h.$state;this.setAttributes({"data-supported":e,"aria-hidden":tt(()=>!e())})}Te(){const{value:t}=this.$state;return Math.round(t())}Ue(){const{value:t,max:e}=this.$state;return N(t()/e()*100,2)+"%"}_d(){const{muted:t,volume:e}=this.h.$state,s=t()?0:e()*100;this.$state.value.set(s),this.dispatch("value-change",{detail:s})}t(t){if(!t.trigger)return;const e=N(t.detail/100,3);this.h.remote.changeVolume(e,t)}uf(t){this.vf(t)}tf(t){this.vf(t)}};Re.props={...yt.props,keyStep:5,shiftKeyMultiplier:2},Re.state=Hs;let dn=Re;const _e=class _e extends y{constructor(){super(),this.Af=w(null),this.zf=!1,new yt({Kf:!0,Xe:this.Xe.bind(this),Ye:this.Ye.bind(this),_e:this._e.bind(this),Ze:this.Ze,Te:this.Te.bind(this),Ue:this.Ue.bind(this),Bf:this.Bf.bind(this),tf:this.tf.bind(this),yf:this.yf.bind(this),uf:this.uf.bind(this)})}onSetup(){this.h=x(),J(Jt,{default:"time",value:this.Cf.bind(this),time:this.Df.bind(this)}),this.setAttributes({"data-chapters":this.Ef.bind(this)}),this.setStyles({"--slider-progress":this.Ff.bind(this)}),l(this.$d.bind(this)),l(this.Gf.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),E(t,"aria-label","Seek")}onConnect(t){l(this.Hf.bind(this)),_s(this.h.textTracks,"chapters",this.Af.set)}Ff(){const{bufferedEnd:t,duration:e}=this.h.$state;return N(Math.min(t()/Math.max(e(),1),1)*100,3)+"%"}Ef(){var e;const{duration:t}=this.h.$state;return((e=this.Af())==null?void 0:e.cues.length)&&Number.isFinite(t())&&t()>0}Gf(){this.xf=Ke(this.Hd.bind(this),this.$props.seekingRequestThrottle())}$d(){const{currentTime:t}=this.h.$state,{value:e,dragging:s}=this.$state,n=this.If(t());d(s)||(e.set(n),this.dispatch("value-change",{detail:n}))}Hf(){const t=this.h.player.el,{hf:e}=L(Vs);t&&e()&&T(t,"data-preview",this.$state.active())}Hd(t,e){this.h.remote.seeking(t,e)}Jf(t,e,s){this.xf.cancel();const{live:n}=this.h.$state;if(n()&&e>=99){this.h.remote.seekToLiveEdge(s);return}this.h.remote.seek(t,s)}Bf(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:s}=this.h.$state;this.zf=!s(),this.h.remote.pause(t)}}tf(t){this.xf(this.wf(t.detail),t)}yf(t){const e=t.detail;this.Jf(this.wf(e),e,t);const{pauseWhileDragging:s}=this.$props;s()&&this.zf&&(this.h.remote.play(t),this.zf=!1)}uf(t){const{dragging:e}=this.$state;e()||!t.trigger||this.yf(t)}Xe(){const t=this.$props.step()/this.h.$state.duration()*100;return Number.isFinite(t)?t:1}Ye(){const t=this.$props.keyStep()/this.h.$state.duration()*100;return Number.isFinite(t)?t:1}Ze(t){return N(t,3)}_e(){const{canSeek:t}=this.h.$state;return this.$props.disabled()||!t()}Te(){const{value:t}=this.$state;return Math.round(t())}Ue(){const t=this.wf(this.$state.value()),{duration:e}=this.h.$state;return Number.isFinite(t)?`${bs(t)} out of ${bs(e())}`:"live"}wf(t){const{duration:e}=this.h.$state;return N(t/100*e(),5)}If(t){const{liveEdge:e,duration:s}=this.h.$state,n=Math.max(0,Math.min(1,e()?1:Math.min(t,s())/s()));return Number.isNaN(n)?0:Number.isFinite(n)?n*100:100}Cf(t){const e=this.wf(t),{live:s,duration:n}=this.h.$state;return Number.isFinite(e)?(s()?e-n():e).toFixed(0):"LIVE"}Df(t,e,s,n){const r=this.wf(t),{live:a,duration:h}=this.h.$state,o=a()?r-h():r;return Number.isFinite(r)?`${o<0?"-":""}${Be(Math.abs(o),e,s,n)}`:"LIVE"}};_e.props={...yt.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,seekingRequestThrottle:100},_e.state=Hs;let $s=_e;var po=Object.defineProperty,mo=Object.getOwnPropertyDescriptor,Qe=(i,t,e,s)=>{for(var n=s>1?void 0:s?mo(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&po(t,e,n),n};const ui=class ui extends y{constructor(){super(...arguments),this.Nf=null,this.Lf=[],this.Pf=w(null),this.Mf=w([]),this.Of=w(-1),this.Qf=w(-1),this.Tf=0,this.dg=he(t=>{var n;let e,s=this.Mf();for(let r=this.Tf;r<this.Lf.length;r++)if(e=this.Vf(s[r],t),(n=this.Lf[r])==null||n.style.setProperty("--chapter-progress",e+"%"),e<100){this.Tf=r;break}}),this.eg=Ot(this.fg.bind(this)),this.hg=nr(()=>{const t=d(this.Pf);!this.scope||!t||!t.cues.length||(this.Mf.set(this.gg(t.cues)),this.Of.set(0))},150,!0)}get cues(){return this.Mf()}get activeCue(){return this.Mf()[this.Of()]||null}get activePointerCue(){return this.Mf()[this.Qf()]||null}onSetup(){this.h=x(),this.Rf=Ue($s.state)}onAttach(t){_s(this.h.textTracks,"chapters",this.Wf.bind(this)),l(this.Zf.bind(this))}onConnect(){k(()=>this.q.bind(this))}onDestroy(){this.Wf(null)}setRefs(t){var e;if(this.Lf=t,(e=this.Sf)==null||e.dispose(),this.Lf.length===1){const s=this.Lf[0];s.style.width="100%",s.style.setProperty("--chapter-fill","var(--slider-fill)"),s.style.setProperty("--chapter-progress","var(--slider-progress)")}else this.Lf.length>0&&_(()=>this._f(),this.Sf=$e())}Wf(t){d(this.Pf)!==t&&(this.q(),this.Pf.set(t))}q(){var t;this.Lf=[],this.Mf.set([]),this.Of.set(-1),this.Qf.set(-1),this.Tf=0,(t=this.Sf)==null||t.dispose()}_f(){this.Lf.length&&(l(this.$f.bind(this)),l(this.ag.bind(this)),l(this.bg.bind(this)),l(this.cg.bind(this)))}$f(){let t,e=this.Mf(),s=e[e.length-1].endTime;for(let n=0;n<e.length;n++)t=e[n],this.Lf[n]&&(this.Lf[n].style.width=N((t.endTime-t.startTime)/s*100,3)+"%")}ag(){let{liveEdge:t,ended:e}=this.h.$state,{fillPercent:s,value:n}=this.Rf,r=this.Mf(),a=t(),h=d(this.Of),o=r[h],c=a?this.Mf.length-1:this.Xf(o&&o.startTime<=d(n)?h:0,s());a||e()||!o?this.Uf(0,r.length,"100%"):c>h?this.Uf(h,c,"100%"):c<h&&this.Uf(c+1,h+1,"0%");const u=a?"100%":this.Vf(r[c],s())+"%";this.Yf(this.Lf[c],u),this.Of.set(c)}bg(){let{pointing:t,pointerPercent:e}=this.Rf;if(!t()){this.Qf.set(-1);return}const s=this.Xf(0,e());this.Qf.set(s)}Uf(t,e,s){for(let n=t;n<e;n++)this.Yf(this.Lf[n],s)}Yf(t,e){t&&t.style.setProperty("--chapter-fill",e)}Xf(t,e){let s=0,n=this.Mf();for(let r=t;r<n.length;r++)if(s=this.Vf(n[r],e),s>=0&&s<100)return r;return 0}cg(){this.dg(this.eg())}fg(){const{bufferedEnd:t,duration:e}=this.h.$state;return N(Math.min(t()/Math.max(e(),1),1),3)*100}Vf(t,e){const s=this.Mf();if(s.length===0)return 0;const n=s[s.length-1],r=t.startTime/n.endTime*100,a=t.endTime/n.endTime*100;return Math.max(0,N(e>=a?100:(e-r)/(a-r)*100,3))}gg(t){const e=[];t[0].startTime!==0&&e.push(new window.VTTCue(0,t[0].startTime,""));for(let s=0;s<t.length-1;s++){const n=t[s],r=t[s+1];if(e.push(n),r){const a=r.startTime-n.endTime;a>0&&e.push(new window.VTTCue(n.endTime,n.endTime+a,""))}}return e.push(t[t.length-1]),e}Zf(){if(!this.scope)return;const{disabled:t}=this.$props;if(t())return;const e=this.Pf();if(e){const s=this.hg.bind(this);s(),k(p(e,"add-cue",s)),k(p(e,"remove-cue",s))}return this.Nf=this.ig(),this.Nf&&l(this.jg.bind(this)),()=>{this.Nf&&(this.Nf.textContent="",this.Nf=null)}}jg(){const t=this.activePointerCue||this.activeCue;this.Nf&&(this.Nf.textContent=(t==null?void 0:t.text)||"")}kg(){let t=this.el;for(;t&&t.getAttribute("role")!=="slider";)t=t.parentElement;return t}ig(){const t=this.kg();return t?t.querySelector('[data-part="chapter-title"]'):null}};ui.props={disabled:!1};let qt=ui;Qe([b],qt.prototype,"cues",1);Qe([b],qt.prototype,"activeCue",1);Qe([b],qt.prototype,"activePointerCue",1);Qe([I],qt.prototype,"setRefs",1);const R=wt(),go=["a[href]","[tabindex]","input","select","button"].map(i=>`${i}:not([aria-hidden])`).join(","),fn=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class bo{constructor(t){this.hh=0,this.rk=null,this.qk=[],this.$e=t}get ya(){return this.qk}Fg(t){return p(t,"focus",this.Jj.bind(this)),this.rk=t,k(()=>{this.rk=null}),this}Ge(){this.rk&&(this.Wa(),p(this.rk,"keyup",this.Ed.bind(this)),p(this.rk,"keydown",this.Fd.bind(this)),k(()=>{this.hh=0,this.qk=[]}))}Wa(){this.hh=0,this.qk=this.vk()}Xg(t=this.uk()){const e=this.qk[t],s=this.$e.Rg();e&&s&&requestAnimationFrame(()=>{s.scrollTop=e.offsetTop-s.offsetHeight/2+e.offsetHeight/2})}sk(t){var e;this.hh=t,(e=this.qk[t])==null||e.focus(),this.Xg(t)}uk(){return this.qk.findIndex(t=>t.getAttribute("aria-checked")==="true")}Jj(){this.Wa(),setTimeout(()=>{const t=this.uk();this.sk(t>=0?t:0)},100)}Ed(t){fn.has(t.key)&&(t.stopPropagation(),t.preventDefault())}Fd(t){if(fn.has(t.key))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.$e.Sg(t);break;case"Tab":this.sk(this.tk(t.shiftKey?-1:1));break;case"ArrowUp":this.sk(this.tk(-1));break;case"ArrowDown":this.sk(this.tk(1));break;case"Home":case"PageUp":this.sk(0);break;case"End":case"PageDown":this.sk(this.qk.length-1);break}}tk(t){var s;let e=this.hh;do e=(e+t+this.qk.length)%this.qk.length;while(((s=this.qk[e])==null?void 0:s.offsetParent)===null);return e}vk(){if(!this.rk)return[];const t=this.rk.querySelectorAll(go),e=[],s=n=>n.getAttribute("role")==="menu";for(const n of t)n instanceof HTMLElement&&n.offsetParent!==null&&tr(this.rk,n,s)&&e.push(n);return e}}var yo=Object.defineProperty,$o=Object.getOwnPropertyDescriptor,ce=(i,t,e,s)=>{for(var n=s>1?void 0:s?$o(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&yo(t,e,n),n};let wo=0;const di=class di extends y{constructor(){super(),this.lg=w(!1),this.gf=w(!1),this.ye=w(null),this.ze=w(null),this.ug=w(!1),this.ng=new Set,this.og=null,this.Ng=this.Og.bind(this),this.Lg=this.Pg.bind(this),this.Mg=this.Qg.bind(this);const{showDelay:t}=this.$props;this.pg=new hr({ye:this.ye,ze:this.ze,Fe:t,Ge:(e,s,n)=>{St(e,a=>{this.lg()?n(a):s(a)});const r=this.Cg();r&&St(r,a=>{a.stopPropagation(),n(a)})},tb:this.Dg.bind(this)})}get triggerElement(){return this.ye()}get contentElement(){return this.ze()}get isSubmenu(){return!!this.sg}onSetup(){this.h=x();const t=++wo;this.qg=`media-menu-${t}`,this.rg=`media-menu-button-${t}`,this.mg=new bo({Rg:this.Eg.bind(this),Sg:this.close.bind(this)}),at(R)&&(this.sg=L(R)),this.setAttributes({"data-open":this.lg,"data-submenu":this.isSubmenu,"data-disabled":this._e.bind(this)}),J(R,{Tg:this.ye,lg:this.lg,Ug:w(""),vg:this.vg.bind(this),wg:this.wg.bind(this),xg:this.xg.bind(this),yg:this.yg.bind(this),zg:this.zg.bind(this),tg:this.tg.bind(this)})}onAttach(t){t.style.setProperty("display","contents"),this.mg.Fg(t)}onConnect(t){var e;l(this.Gg.bind(this)),this.isSubmenu&&((e=this.sg)==null||e.tg(this)),requestAnimationFrame(()=>{this.Md()})}onDestroy(){this.ye.set(null),this.ze.set(null),this.og=null}Gg(){const t=this.Hg();this.Md(),this.Ag(t),t&&(l(()=>{const{height:e}=this.h.$state,s=this.ze();s&&z(s,"--player-height",e()+"px")}),this.mg.Ge(),this.listen("pointerup",this.Ig.bind(this)),p(window,"pointerup",this.Jg.bind(this)))}wg(t){const e=t.el,s=this.isSubmenu,n=tt(this._e.bind(this));E(e,"tabindex",s?"-1":"0"),E(e,"role",s?"menuitem":"button"),T(e,"id",this.rg),T(e,"aria-haspopup","menu"),T(e,"aria-expanded","false"),T(e,"data-submenu",this.isSubmenu),this.isSubmenu||this.Bg(e),l(()=>{T(e,"data-open",this.lg()),T(e,"aria-disabled",n())}),this.ye.set(e),k(()=>{this.ye.set(null)})}xg(t){const e=t.el;e.style.setProperty("display","none"),T(e,"id",this.qg),E(e,"role","menu"),E(e,"tabindex","-1"),T(e,"data-submenu",this.isSubmenu),this.ze.set(e),k(()=>this.ze.set(null)),this.isSubmenu||this.Bg(e),l(()=>{T(e,"data-open",this.lg())}),this.mg.Fg(e),this.Ag(!1),requestAnimationFrame(this.Md.bind(this))}yg(t){this.og=t}Bg(t){p(t,"click",e=>e.stopPropagation()),p(t,"pointerup",e=>e.stopPropagation())}Ag(t){const e=d(this.ze);e&&T(e,"aria-hidden",Te(!t))}zg(t){this.ug.set(t)}Dg(t,e){var r,a,h,o,c;if(e==null||e.stopPropagation(),this.lg()===t)return;if(this._e()){t&&this.pg.hide(e);return}const s=this.ye(),n=this.ze();if(s&&(T(s,"aria-controls",t&&this.qg),T(s,"aria-expanded",Te(t))),n&&T(n,"aria-labelledby",t&&this.rg),this.lg.set(t),this.Kg(e),mt(),ve(e)){t?n==null||n.focus():s==null||s.focus();for(const u of[this.el,n])u&&u.setAttribute("data-keyboard","")}else for(const u of[this.el,n])u&&u.removeAttribute("data-keyboard");this.dispatch(t?"open":"close",{trigger:e}),t?(!this.isSubmenu&&this.h.activeMenu!==this&&((r=this.h.activeMenu)==null||r.close(e),this.h.activeMenu=this),(h=(a=this.og)==null?void 0:a.Vg)==null||h.call(a,e)):(this.isSubmenu?setTimeout(()=>{for(const u of this.ng)u.close(e)},300):this.h.activeMenu=null,(c=(o=this.og)==null?void 0:o.Wg)==null||c.call(o,e)),t&&!ve(e)&&requestAnimationFrame(()=>{this.mg.Wa(),setTimeout(()=>{this.mg.Xg()},100)})}Hg(){return!this._e()&&this.lg()}_e(){return this.gf()||this.ug()}vg(t){this.gf.set(t)}Ig(t){t.stopPropagation()}Jg(t){if(this.isSubmenu)return setTimeout(this.close.bind(this,t),800);this.close(t)}Cg(){const t=this.el.querySelector('[data-part="close-target"]');return tr(this.el,t,e=>e.getAttribute("role")==="menu")?t:null}Eg(){if(this.isSubmenu){let t=this.el;for(;t&&t.tagName!=="media-menu"&&t.hasAttribute("data-submenu");)t=t.parentNode;return t}else return d(this.ze)||null}Kg(t){this.isSubmenu||(this.lg()?this.h.remote.pauseControls(t):this.h.remote.resumeControls(t))}tg(t){this.ng.add(t),p(t,"open",this.Lg),p(t,"close",this.Mg),k(this.Ng)}Og(t){this.ng.delete(t)}Pg(t){for(const e of this.ng)if(e!==t.target)for(const s of[e.el,e.triggerElement])s==null||s.setAttribute("aria-hidden","true");requestAnimationFrame(()=>{this.Md()})}Qg(){for(const t of this.ng)for(const e of[t.el,t.triggerElement])e==null||e.setAttribute("aria-hidden","false");requestAnimationFrame(()=>{this.Md()})}Md(){const t=d(this.ze);if(!t)return;let{paddingTop:e,paddingBottom:s,borderTopWidth:n,borderBottomWidth:r}=getComputedStyle(t),a=parseFloat(e)+parseFloat(s)+parseFloat(n)+parseFloat(r),h=[...t.children];for(const o of h)o instanceof HTMLElement&&o.style.display==="contents"?h.push(...o.children):o.nodeType===3?a+=parseInt(window.getComputedStyle(o).fontSize,10):a+=o.offsetHeight||0;requestAnimationFrame(()=>{t&&(T(t,"data-resizing",""),setTimeout(()=>{t&&T(t,"data-resizing",!1)},400),z(t,"--menu-height",a+"px"))})}open(t){d(this.lg)||(this.pg.show(t),mt())}close(t){d(this.lg)&&(this.pg.hide(t),mt())}};di.props={showDelay:0};let Pt=di;ce([b],Pt.prototype,"triggerElement",1);ce([b],Pt.prototype,"contentElement",1);ce([b],Pt.prototype,"isSubmenu",1);ce([I],Pt.prototype,"open",1);ce([I],Pt.prototype,"close",1);var vo=Object.defineProperty,To=Object.getOwnPropertyDescriptor,ko=(i,t,e,s)=>{for(var n=s>1?void 0:s?To(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&vo(t,e,n),n};const fi=class fi extends y{constructor(){super(),new ht}get expanded(){var t;return((t=this.Yg)==null?void 0:t.lg())??!1}onSetup(){this.Yg=L(R)}onAttach(t){this.Yg.wg(this),l(this.bf.bind(this)),E(t,"type","button")}onConnect(t){const e=Array.from(t.querySelectorAll('[data-part="hint"]')).pop();e&&l(()=>{const s=this.Yg.Ug();s&&(e.textContent=s)}),St(t,s=>{this.dispatch("select",{trigger:s})})}bf(){this.Yg.zg(this.$props.disabled())}};fi.props={disabled:!1};let ws=fi;ko([b],ws.prototype,"expanded",1);const pi=class pi extends y{constructor(){super(...arguments),this.wa=null}onSetup(){this.h=x(),J(be,{Ie:this._g.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){var t;(t=this.wa)==null||t.remove(),this.wa=null}_g(t){this.Zg(!1),this.wa=t,us(()=>{us(()=>{this.connectScope&&l(this.bf.bind(this))})})}bf(){const{fullscreen:t}=this.h.$state,{disabled:e}=this.$props,s=e();this.Zg(s==="fullscreen"?!t():!s)}Zg(t){var n;if(!this.wa)return;let e=this.$g(this.$props.container());if(!e)return;const s=this.wa.parentElement===e;T(this.wa,"data-portal",t),t?s||(this.wa.remove(),e.append(this.wa)):s&&this.wa.parentElement===e&&(this.wa.remove(),(n=this.el)==null||n.append(this.wa))}$g(t){return t instanceof HTMLElement?t:t?document.querySelector(t):document.body}};pi.props={container:null,disabled:!1};let pn=pi;const be=wt(),mi=class mi extends y{constructor(){super(),new ht;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(this.Yg=L(R),this.Yg.xg(this),at(be)){const e=L(be);e&&(J(be,null),e.Ie(t),k(()=>e.Ie(null)))}}onConnect(t){l(this.Je.bind(this))}Je(){if(!this.el)return;const t=this.$props.placement();if(t){Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:e,alignOffset:s}=this.$props;return er(this.el,this.He(),t,{offsetVarName:"media-menu",xOffset:s(),yOffset:e()})}else this.el.removeAttribute("style"),this.el.style.display="none"}He(){return this.Yg.Tg()}};mi.props={placement:null,offset:0,alignOffset:0};let mn=mi;const vs=wt();class Vt extends st{constructor(){super(...arguments),this.wk=new Set,this.gh=w(""),this.ba=null,this.Ak=this.tb.bind(this)}get ah(){return Array.from(this.wk).map(t=>t.gh())}get value(){return this.gh()}set value(t){this.tb(t)}onSetup(){J(vs,{add:this.yk.bind(this),remove:this.zk.bind(this)})}onAttach(t){at(R)||E(t,"role","radiogroup"),this.setAttributes({value:this.gh})}onDestroy(){this.wk.clear()}yk(t){this.wk.has(t)||(this.wk.add(t),t.dh=this.Ak,t.ch(t.gh()===this.gh()))}zk(t){t.dh=null,this.wk.delete(t)}tb(t,e){var a;const s=d(this.gh);if(!t||t===s)return;const n=this.xk(s),r=this.xk(t);n==null||n.ch(!1,e),r==null||r.ch(!0,e),this.gh.set(t),(a=this.uf)==null||a.call(this,t,e)}xk(t){for(const e of this.wk)if(t===d(e.gh))return e;return null}}var xo=Object.defineProperty,Eo=Object.getOwnPropertyDescriptor,cr=(i,t,e,s)=>{for(var n=s>1?void 0:s?Eo(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&xo(t,e,n),n};const gi=class gi extends y{constructor(){super(),this.ba=new Vt,this.ba.uf=this.uf.bind(this)}get values(){return this.ba.ah}get value(){return this.ba.value}set value(t){this.ba.value=t}onSetup(){l(this.Ve.bind(this))}Ve(){this.ba.value=this.$props.value()}uf(t,e){const s=this.createEvent("change",{detail:t,trigger:e});this.dispatch(s)}};gi.props={value:""};let Ae=gi;cr([b],Ae.prototype,"values",1);cr([b],Ae.prototype,"value",1);var So=Object.defineProperty,Po=Object.getOwnPropertyDescriptor,Ao=(i,t,e,s)=>{for(var n=s>1?void 0:s?Po(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&So(t,e,n),n};const bi=class bi extends y{constructor(){super(),this.bh=w(!1),this.ba={gh:this.$props.value,ch:this.ch.bind(this),dh:null},new ht}get checked(){return this.bh()}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.bh,"aria-checked":tt(this.bh)})}onAttach(t){const e=at(R);E(t,"tabindex",e?"-1":"0"),E(t,"role",e?"menuitemradio":"radio"),l(this.Ve.bind(this))}onConnect(t){this.eh(),St(t,this.Ne.bind(this)),k(this.xa.bind(this))}xa(){_(()=>{L(vs).remove(this.ba)},this.connectScope)}eh(){L(vs).add(this.ba)}Ve(){var s,n;const{value:t}=this.$props,e=t();d(this.bh)&&((n=(s=this.ba).dh)==null||n.call(s,e))}Ne(t){var e,s;d(this.bh)||(this.tb(!0,t),this.fh(t),(s=(e=this.ba).dh)==null||s.call(e,d(this.$props.value),t))}ch(t,e){d(this.bh)!==t&&this.tb(t,e)}tb(t,e){this.bh.set(t),this.dispatch("change",{detail:t,trigger:e})}fh(t){this.dispatch("select",{trigger:t})}};bi.props={value:""};let Ts=bi;Ao([b],Ts.prototype,"checked",1);var Co=Object.defineProperty,Oo=Object.getOwnPropertyDescriptor,zs=(i,t,e,s)=>{for(var n=s>1?void 0:s?Oo(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Co(t,e,n),n};const yi=class yi extends y{constructor(){super(),this.hh=w(0),this.Zc=w(null),this.ba=new Vt,this.ba.uf=this.uf.bind(this)}get value(){return this.ba.value}get disabled(){const t=this.Zc();return!t||!t.cues.length}onSetup(){this.h=x(),at(R)&&(this.Yg=L(R));const{thumbnails:t}=this.$props;this.setAttributes({"data-thumbnails":()=>!!t()})}onAttach(t){var e;(e=this.Yg)==null||e.yg({Vg:this.Vg.bind(this)})}getOptions(){const t=this.Zc();return t?t.cues.map((e,s)=>({cue:e,value:s+"",label:e.text,startTime:Be(e.startTime,!1),duration:bs(e.endTime-e.startTime)})):[]}Vg(){d(()=>this.$d())}onConnect(t){l(this.Ve.bind(this)),l(this.$d.bind(this)),l(this.ih.bind(this)),_s(this.h.textTracks,"chapters",this.Zc.set)}Ve(){this.ba.value=this.jh()}$d(){var r;if(!((r=this.Yg)!=null&&r.lg()))return;const t=this.Zc();if(!t){this.hh.set(-1);return}const{currentTime:e}=this.h.$state,s=e(),n=t.cues.findIndex(a=>Ee(a,s));if(this.hh.set(n),n>=0){const a=t.cues[n],h=this.el.querySelector("[aria-checked='true']"),o=(s-a.startTime)/(a.endTime-a.startTime)*100;h&&z(h,"--progress",N(o,3)+"%")}}ih(){var t;(t=this.Yg)==null||t.vg(this.disabled)}jh(){return this.hh()+""}uf(t,e){var r;if(this.disabled||!e)return;const s=+t,n=(r=this.Zc())==null?void 0:r.cues;we(s)&&(n!=null&&n[s])&&(this.hh.set(s),this.h.remote.seek(n[s].startTime,e),this.dispatch("change",{detail:n[s],trigger:e}))}};yi.props={thumbnails:""};let te=yi;zs([b],te.prototype,"value",1);zs([b],te.prototype,"disabled",1);zs([I],te.prototype,"getOptions",1);var Mo=Object.defineProperty,Lo=Object.getOwnPropertyDescriptor,Ws=(i,t,e,s)=>{for(var n=s>1?void 0:s?Lo(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Mo(t,e,n),n};const $i=class $i extends y{constructor(){super(),this.ba=new Vt,this.ba.uf=this.uf.bind(this)}get value(){return this.ba.value}get disabled(){const{audioTracks:t}=this.h.$state;return t().length===0}onSetup(){this.h=x(),at(R)&&(this.Yg=L(R))}onConnect(t){l(this.Ve.bind(this)),l(this.ih.bind(this)),l(this.kh.bind(this))}getOptions(){const{audioTracks:t}=this.h.$state;return t().map(e=>({track:e,label:e.label,value:e.label.toLowerCase()}))}Ve(){this.ba.value=this.jh()}kh(){var n;const{emptyLabel:t}=this.$props,{audioTrack:e}=this.h.$state,s=e();(n=this.Yg)==null||n.Ug.set((s==null?void 0:s.label)??t())}ih(){var t;(t=this.Yg)==null||t.vg(this.disabled)}jh(){const{audioTrack:t}=this.h.$state,e=t();return e?e.label.toLowerCase():""}uf(t,e){if(this.disabled)return;const s=this.h.audioTracks.toArray().findIndex(n=>n.label.toLowerCase()===t);if(s>=0){const n=this.h.audioTracks[s];this.h.remote.changeAudioTrack(s,e),this.dispatch("change",{detail:n,trigger:e})}}};$i.props={emptyLabel:"Default"};let ee=$i;Ws([b],ee.prototype,"value",1);Ws([b],ee.prototype,"disabled",1);Ws([I],ee.prototype,"getOptions",1);var jo=Object.defineProperty,Do=Object.getOwnPropertyDescriptor,Ks=(i,t,e,s)=>{for(var n=s>1?void 0:s?Do(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&jo(t,e,n),n};const wi=class wi extends y{constructor(){super(),this.ba=new Vt,this.ba.uf=this.uf.bind(this)}get value(){return this.ba.value}get disabled(){const{textTracks:t}=this.h.$state;return t().filter(q).length===0}onSetup(){this.h=x(),at(R)&&(this.Yg=L(R))}onConnect(t){var e;(e=super.onConnect)==null||e.call(this,t),l(this.Ve.bind(this)),l(this.ih.bind(this)),l(this.kh.bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=this.h.$state;return[{value:"off",label:t},...e().filter(q).map(s=>({track:s,label:s.label,value:s.label.toLowerCase()}))]}Ve(){this.ba.value=this.jh()}kh(){var n;const{offLabel:t}=this.$props,{textTrack:e}=this.h.$state,s=e();(n=this.Yg)==null||n.Ug.set(s&&q(s)&&s.mode==="showing"?s.label:t())}ih(){var t;(t=this.Yg)==null||t.vg(this.disabled)}jh(){const{textTrack:t}=this.h.$state,e=t();return e&&q(e)&&e.mode==="showing"?e.label.toLowerCase():"off"}uf(t,e){if(this.disabled)return;if(t==="off"){const n=this.h.textTracks.selected;if(n){const r=this.h.textTracks.toArray().indexOf(n);this.h.remote.changeTextTrackMode(r,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const s=this.h.textTracks.toArray().findIndex(n=>n.label.toLowerCase()===t);if(s>=0){const n=this.h.textTracks[s];this.h.remote.changeTextTrackMode(s,"showing",e),this.dispatch("change",{detail:n,trigger:e})}}};wi.props={offLabel:"Off"};let se=wi;Ks([b],se.prototype,"value",1);Ks([b],se.prototype,"disabled",1);Ks([I],se.prototype,"getOptions",1);var Io=Object.defineProperty,Ro=Object.getOwnPropertyDescriptor,Bs=(i,t,e,s)=>{for(var n=s>1?void 0:s?Ro(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Io(t,e,n),n};const vi=class vi extends y{constructor(){super(),this.ba=new Vt,this.ba.uf=this.uf.bind(this)}get value(){return this.ba.value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=this.h.$state;return!e()||t().length===0}onSetup(){this.h=x(),at(R)&&(this.Yg=L(R))}onConnect(t){l(this.Ve.bind(this)),l(this.kh.bind(this)),l(this.ih.bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map(s=>({label:s===1?e:s+"×",value:s+""}))}Ve(){this.ba.value=this.jh()}kh(){var n;const{normalLabel:t}=this.$props,{playbackRate:e}=this.h.$state,s=e();(n=this.Yg)==null||n.Ug.set(s===1?t():s+"×")}ih(){var t;(t=this.Yg)==null||t.vg(this.disabled)}jh(){const{playbackRate:t}=this.h.$state;return t()+""}uf(t,e){if(this.disabled)return;const s=+t;this.h.remote.changePlaybackRate(s,e),this.dispatch("change",{detail:s,trigger:e})}};vi.props={normalLabel:"Normal",rates:[.25,.5,.75,1,1.25,1.5,1.75,2]};let ie=vi;Bs([b],ie.prototype,"value",1);Bs([b],ie.prototype,"disabled",1);Bs([I],ie.prototype,"getOptions",1);var _o=Object.defineProperty,qo=Object.getOwnPropertyDescriptor,Qs=(i,t,e,s)=>{for(var n=s>1?void 0:s?qo(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&_o(t,e,n),n};const Ti=class Ti extends y{constructor(){super(),this.mh=Ot(()=>{const{qualities:t}=this.h.$state;return[...t()].sort((e,s)=>s.height===e.height?s.bitrate-e.bitrate:s.height-e.height)}),this.ba=new Vt,this.ba.uf=this.uf.bind(this)}get value(){return this.ba.value}get disabled(){const{canSetQuality:t,qualities:e}=this.h.$state;return!t()||e().length===0}onSetup(){this.h=x(),at(R)&&(this.Yg=L(R))}onConnect(t){l(this.Ve.bind(this)),l(this.ih.bind(this)),l(this.kh.bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.mh().map(s=>{const n=s.bitrate>=0?`${N(s.bitrate/1e6,2)} Mbps`:null;return{quality:s,label:s.height+"p",value:this.lh(s),bitrate:()=>e()?null:n}})]}Ve(){this.ba.value=this.jh()}kh(){var r;const{autoLabel:t}=this.$props,{autoQuality:e,quality:s}=this.h.$state,n=s()?s().height+"p":"";(r=this.Yg)==null||r.Ug.set(e()?t()+(n?` (${n})`:""):n)}ih(){var t;(t=this.Yg)==null||t.vg(this.disabled)}uf(t,e){if(this.disabled)return;if(t==="auto"){this.h.remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}const{qualities:s}=this.h.$state,n=d(s).findIndex(r=>this.lh(r)===t);if(n>=0){const r=d(s)[n];this.h.remote.changeQuality(n,e),this.dispatch("change",{detail:r,trigger:e})}}jh(){const{quality:t,autoQuality:e}=this.h.$state;if(e())return"auto";const s=t();return s?this.lh(s):"auto"}lh(t){return t.height+"_"+t.bitrate}};Ti.props={autoLabel:"Auto",hideBitrate:!1};let ne=Ti;Qs([b],ne.prototype,"value",1);Qs([b],ne.prototype,"disabled",1);Qs([I],ne.prototype,"getOptions",1);const ki=class ki extends y{constructor(){super(...arguments),this.Hb=null,this.nh=0,this.oh=-1}onSetup(){this.h=x();const{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){var e;this.Hb=(e=this.h.player.el)==null?void 0:e.querySelector("[data-media-provider]"),l(this.qh.bind(this))}qh(){let t=this.$props.event();!this.Hb||!t||(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),(t==="pointerup"||t==="pointerdown")&&this.h.$state.pointer()==="coarse"&&(t=t==="pointerup"?"touchend":"touchstart"),p(this.Hb,t,this.rh.bind(this),{passive:!1}))}rh(t){if(Ci(t)&&(t.button!==0||this.h.activeMenu)||me(t)&&this.h.activeMenu||qs(t)||!this.sh(t))return;t.MEDIA_GESTURE=!0,t.preventDefault();const e=d(this.$props.event);if(!(e==null?void 0:e.startsWith("dbl")))this.nh===0&&setTimeout(()=>{this.nh===1&&this.ph(t)},250);else if(this.nh===1){queueMicrotask(()=>this.ph(t)),clearTimeout(this.oh),this.nh=0;return}this.nh===0&&(this.oh=window.setTimeout(()=>{this.nh=0},275)),this.nh++}ph(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{this.th()&&this.uh(d(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}sh(t){if(!this.el)return!1;if(Ci(t)||xr(t)||me(t)){const e=me(t)?t.changedTouches[0]??t.touches[0]:void 0,s=(e==null?void 0:e.clientX)??t.clientX,n=(e==null?void 0:e.clientY)??t.clientY,r=this.el.getBoundingClientRect(),a=n>=r.top&&n<=r.bottom&&s>=r.left&&s<=r.right;return t.type.includes("leave")?!a:a}return!0}th(){const t=this.h.player.el.querySelectorAll("[data-media-gesture][data-triggered]");return Array.from(t).sort((e,s)=>+getComputedStyle(s).zIndex-+getComputedStyle(e).zIndex)[0]===this.el}uh(t,e){if(!t)return;const s=new M("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(s),s.defaultPrevented)return;const[n,r]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?this.h.remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?this.h.remote.seek(d(this.h.$state.currentTime)+(+r||0),e):this.h.remote[Dn(n)](e),this.dispatch("trigger",{detail:t,trigger:e})}};ki.props={event:void 0,action:void 0};let gn=ki;class No{constructor(t){this.priority=10,this.Zc=null,this.eb=In(),this.wh=t}attach(){}canRender(){return!0}detach(){this.eb.empty(),this.wh.reset(),this.Zc=null}changeTrack(t){!t||this.Zc===t||(this.eb.empty(),t.readyState<2?(this.wh.reset(),this.eb.add(p(t,"load",()=>this.Bk(t),{once:!0}))):this.Bk(t),this.eb.add(p(t,"add-cue",e=>{this.wh.addCue(e.detail)}),p(t,"remove-cue",e=>{this.wh.removeCue(e.detail)})),this.Zc=t)}Bk(t){this.wh.changeTrack({cues:[...t.cues],regions:[...t.regions]})}}const xi=class xi extends y{onSetup(){this.h=x(),this.setAttributes({"aria-hidden":tt(this.Qe.bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){if(this.wh){l(this.xh.bind(this));return}ut(()=>import("./prod-qq4cA8cI.js").then(e=>e.d),__vite__mapDeps([0,1])).then(e=>{this.connectScope&&_(()=>{this.sc=e;const{CaptionsRenderer:s}=this.sc;this.wh=new s(t),this.vh=new No(this.wh),l(this.xh.bind(this))},this.connectScope)})}onDestroy(){var t;this.vh&&(this.vh.detach(),this.h.textRenderers.remove(this.vh)),(t=this.wh)==null||t.destroy()}Qe(){const{textTrack:t}=this.h.$state,e=t();return this.h.$iosControls()||!e||!q(e)}xh(){const{viewType:t}=this.h.$state;return t()==="audio"?this.zh():this.Ah()}zh(){return l(this.Zf.bind(this)),()=>{this.el.textContent=""}}Zf(){if(this.Qe())return;const{textTrack:t}=this.h.$state;this.yh(),p(t(),"cue-change",this.yh.bind(this)),l(this.Bh.bind(this))}yh(){this.el.textContent="";const{currentTime:t,textTrack:e}=this.h.$state,s=d(t),n=d(e).activeCues,{renderVTTCueString:r}=this.sc;for(const a of n){const h=document.createElement("div");h.setAttribute("data-part","cue"),h.innerHTML=r(a,s),this.el.append(h)}}Bh(){const{currentTime:t}=this.h.$state,{updateTimedVTTCueNodes:e}=this.sc;e(this.el,t())}Ah(){return l(this.Ch.bind(this)),l(this.Dh.bind(this)),this.h.textRenderers.add(this.vh),()=>{this.el.textContent="",this.vh.detach(),this.h.textRenderers.remove(this.vh)}}Ch(){this.wh.dir=this.$props.textDir()}Dh(){if(this.Qe())return;const{currentTime:t}=this.h.$state;this.wh.currentTime=t()}};xi.props={textDir:"ltr"};let bn=xi;const qe=class qe extends y{onSetup(){this.h=x(),this.Eh(),this.Fh(),this.nf()}onAttach(t){t.style.setProperty("pointer-events","none"),l(this.Gh.bind(this)),l(this.Eh.bind(this)),l(this.Fh.bind(this)),l(this.nf.bind(this));const{started:e}=this.h.$state;this.setAttributes({"data-visible":()=>!e(),"data-loading":this.lf.bind(this),"data-error":this.kf.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){const{canLoad:e,poster:s}=this.h.$state;window.requestAnimationFrame(()=>{e()||Jn(s())}),l(this.Mb.bind(this))}kf(){const{error:t}=this.$state;return!$t(t())}nf(){const{src:t}=this.$props,{$iosControls:e}=this.h,{poster:s}=this.h.$state;this.el&&T(this.el,"display",e()?"none":null),this.$state.hidden.set(this.kf()||!(t()||s())||e())}lf(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}Gh(){const t=this.$state.img();t&&(p(t,"load",this.Z.bind(this)),p(t,"error",this.Q.bind(this)))}Eh(){const{canLoad:t,poster:e}=this.h.$state,s=this.$props.src(),n=s||e();s&&e()!==s&&this.h.$state.providedPoster.set(s),this.$state.src.set(t()&&n.length?n:null)}Fh(){const{src:t,alt:e}=this.$state;e.set(t()?this.$props.alt():null)}Mb(){const{loading:t,error:e}=this.$state,{canLoad:s,poster:n}=this.h.$state;t.set(s()&&!!n()),e.set(null)}Z(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}Q(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}};qe.props={src:void 0,alt:void 0},qe.state=new Mt({img:null,src:null,alt:null,loading:!0,error:null,hidden:!1});let yn=qe;const Ne=class Ne extends y{onSetup(){this.h=x(),this._a();const{type:t,remainder:e}=this.$props;this.setAttributes({"data-type":t,"data-remainder":e})}onAttach(t){l(this._a.bind(this))}_a(){const{type:t,remainder:e,padHours:s,padMinutes:n,showHours:r}=this.$props,a=this.Hh(t()),h=this.h.$state.duration();if(!Number.isFinite(a+h)){this.$state.timeText.set("LIVE");return}const o=e()?Math.max(0,h-a):a,c=Be(o,s(),n(),r());this.$state.timeText.set(c)}Hh(t){const{bufferedEnd:e,duration:s,currentTime:n}=this.h.$state;switch(t){case"buffered":return e();case"duration":return s();default:return n()}}};Ne.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1},Ne.state=new Mt({timeText:""});let $n=Ne;var Fo=Object.defineProperty,Ho=Object.getOwnPropertyDescriptor,Ys=(i,t,e,s)=>{for(var n=s>1?void 0:s?Ho(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Fo(t,e,n),n};const Ei=class Ei extends y{constructor(){super(...arguments),this.menuContainer=null}get isMatch(){return this.Vh.matches}get isSmallLayout(){return this.Uh.matches}onSetup(){const{when:t,smallWhen:e,thumbnails:s,translations:n,menuGroup:r,noModal:a}=this.$props;this.Vh=Xt.create(t),this.Uh=Xt.create(e),this.setAttributes({"data-match":this.Vh.$matches,"data-size":()=>this.Uh.matches?"sm":null});const h=this;J(lr,{smQueryList:this.Uh,thumbnails:s,translations:n,menuGroup:r,noModal:a,get menuContainer(){return h.menuContainer}})}};Ei.props={when:"",smallWhen:"",thumbnails:"",customIcons:!1,translations:null,menuGroup:"bottom",noModal:!1};let At=Ei;Ys([b],At.prototype,"menuContainer",2);Ys([b],At.prototype,"isMatch",1);Ys([b],At.prototype,"isSmallLayout",1);const Bt=class Bt extends At{};Bt.props={...Ze(Bt,Bt,"props"),when:"(view-type: audio)",smallWhen:"(width < 576)"};let wn=Bt;const Qt=class Qt extends At{};Qt.props={...Ze(Qt,Qt,"props"),when:"(view-type: video)",smallWhen:"(width < 576) or (height < 380)"};let vn=Qt;function oc(i,t){var e;return((e=i())==null?void 0:e[t])??t}const lr=wt();function cc(){return L(lr)}export{ne as $,_s as A,Xt as B,y as C,wn as D,tn as E,ht as F,gn as G,Zo as H,nn as I,en as J,sn as K,rn as L,ps as M,ms as N,hn as O,yn as P,Ji as Q,Gi as R,an as S,ln as T,ee as U,se as V,Pt as W,pn as X,mn as Y,te as Z,ie as _,hc as a,Ts as a0,Ae as a1,Gt as a2,Ue as a3,ys as a4,ca as a5,gs as a6,$s as a7,un as a8,dn as a9,ec as aA,Yn as aB,Lt as aC,Jo as aD,ts as aE,sc as aF,Ls as aG,Z as aH,qt as aa,ic as ab,nc as ac,$e as ad,ac as ae,Yo as af,Ca as ag,Ns as ah,d as ai,Ko as aj,hh as ak,M as al,S as am,U as an,we as ao,_ as ap,tc as aq,Go as ar,Ma as as,ls as at,v as au,Ge as av,Jn as aw,Bo as ax,Qo as ay,os as az,cc as b,Ot as c,Xo as d,l as e,jr as f,oc as g,q as h,lt as i,he as j,D as k,p as l,vn as m,z as n,k as o,L as p,ws as q,us as r,T as s,ge as t,x as u,bn as v,rc as w,$n as x,Xi as y,w as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/prod-qq4cA8cI.js","assets/app-vmUhBKiq.js","assets/vidstack-audio-Znbc4u--.js","assets/vidstack-html-3tHWnf0r.js","assets/vidstack-4poYsikJ-MXwFu5ml.js","assets/vidstack-video-B-_kriFF.js","assets/vidstack-youtube-yOm8tRHd.js","assets/vidstack-ZXJzvCCj-WBa9eMGD.js","assets/vidstack-hls-hkl1w8Ew.js","assets/vidstack-vimeo-vULsoK_d.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}