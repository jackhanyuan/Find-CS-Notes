import{u as P,g as w,h as L,j as X,i as b,k as A,l as G,m as N,S as B,t as J,n as $,p as _,q as ee,s as te,v as ae,x as e,R as O,y as z,z as le,A as se}from"./app.e14820a9.js";const re="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";const j=()=>e(z,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));j.displayName="CloseIcon";const x=()=>e(z,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));x.displayName="HeadingIcon";const C=()=>e(z,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));C.displayName="HeartIcon";const T=()=>e(z,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));T.displayName="HistoryIcon";const V=()=>e(z,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));V.displayName="TitleIcon";const oe={},ce=300,Z=5,ne={"/":{cancel:"取消",placeholder:"开始搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ue="search-pro-history-results",m=P(ue,[]),ie=()=>({history:m,addHistory:a=>{m.value.length<Z?m.value=[a,...m.value]:m.value=[a,...m.value.slice(0,Z-1)]},removeHistory:a=>{m.value=[...m.value.slice(0,a),...m.value.slice(a+1)]}}),he=w(re),ve=L(()=>JSON.parse(X(he.value))),H=(a,p)=>{const h=[];let l=0,s=0;const n=a.toLowerCase(),d=p.toLowerCase();let o=n.indexOf(d,l);const I=(c,v)=>{let t=c,r=!1;if(!v&&t.length>100&&s===0&&(t=`… ${t.slice(-10)}`),s+t.length>100){if(h.some(S=>S[0]==="strong"))return;t=t.slice(0,Math.max(100-s,1)),r=!0}t.length&&(h.push(v?["strong",t]:t),s+=t.length),r&&(h.push("…"),s+=2)};if(o<0)return null;for(;o>=0;){const c=o+d.length;if(I(a.slice(l,o),!1),I(a.slice(o,c),!0),l=c,o=n.indexOf(d,l),s>100)break}return I(a.slice(l),!1),h},k=a=>a.reduce((p,{type:h})=>p+(h==="title"?50:h==="heading"?20:h==="custom"?10:1),0),pe=(a,p)=>{var h;const l={};for(const[s,n]of Object.entries(p)){const d=((h=p[s.replace(/\/[^\\]*$/,"")])==null?void 0:h.title)||"",o=`${d?`${d} > `:""}${n.title}`,I=H(n.title,a);I&&(l[o]=[...l[o]||[],{type:"title",path:s,display:I}]),n.customFields&&Object.entries(n.customFields).forEach(([c,v])=>{v.forEach(t=>{const r=H(t,a);r&&(l[o]=[...l[o]||[],{type:"custom",path:s,index:c,display:r}])})});for(const c of n.contents){const v=H(c.header,a);v&&(l[o]=[...l[o]||[],{type:"heading",path:s+(c.slug?`#${c.slug}`:""),display:v}]);for(const t of c.contents){const r=H(t,a);r&&(l[o]=[...l[o]||[],{type:"content",header:c.header,path:s+(c.slug?`#${c.slug}`:""),display:r}])}}}return Object.keys(l).sort((s,n)=>k(l[s])-k(l[n])).map(s=>({title:s,contents:l[s]}))},de=a=>{const p=N(),h=w([]),l=L(()=>ve.value[p.value]),s=se(n=>{h.value=n?pe(n,l.value):[]},ce);return le([a,p],()=>{s(a.value)}),h};var me=b({name:"SearchResult",props:{query:{type:String,required:!0}},emits:["close","updateQuery"],setup(a,{emit:p}){const h=A(),l=G(),s=N(),n=B(ne),{history:d,addHistory:o,removeHistory:I}=ie(),c=J(a,"query"),v=de(c),t=w(0),r=w(0),S=w(),E=L(()=>v.value.length>0),M=L(()=>v.value[t.value]||null),D=()=>{t.value=t.value>0?t.value-1:v.value.length-1,r.value=M.value.contents.length-1},K=()=>{t.value=t.value<v.value.length-1?t.value+1:0,r.value=0},q=()=>{r.value<M.value.contents.length-1?r.value=r.value+1:K()},F=()=>{r.value>0?r.value=r.value-1:D()},f=u=>u.map(i=>typeof i=="string"?i:e(i[0],i[1])),Q=u=>{if(u.type==="custom"){const i=oe[u.index]||"$content",[g,W=""]=typeof i=="object"?i[s.value].split("$content"):i.split("$content");return f([g,...u.display,W])}return f(u.display)},R=()=>{t.value=0,r.value=0,p("updateQuery",""),p("close")};return $(()=>{_("keydown",u=>{if(E.value){if(u.key==="ArrowUp")F();else if(u.key==="ArrowDown")q();else if(u.key==="Enter"){const i=M.value.contents[r.value];l.path!==i.path&&(o(i),h.push(i.path),R())}}}),ee(S.value,{reserveScrollBarGap:!0})}),te(()=>{ae()}),()=>e("div",{class:["search-pro-result",{empty:c.value===""?d.value.length===0:!E.value}],ref:S},c.value===""?d.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},n.value.history),d.value.map((u,i)=>e(O,{to:u.path,class:["search-pro-result-item",{active:r.value===i}],onClick:()=>{R()}},()=>[e(T,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[u.type==="content"?e("div",{class:"content-header"},u.header):null,e("div",Q(u))]),e("button",{class:"search-pro-close-icon",onClick:g=>{I(i),g.stopPropagation()}},e(j))]))])):n.value.emptyHistory:E.value?e("ul",{class:"search-pro-result-list"},v.value.map(({title:u,contents:i},g)=>{const W=t.value===g;return e("li",{class:["search-pro-result-list-item",{active:W}]},[e("div",{class:"search-pro-result-title"},u||"Documentation"),i.map((y,U)=>{const Y=W&&r.value===U;return e(O,{to:y.path,class:["search-pro-result-item",{active:Y,"aria-selected":Y}],onClick:()=>{o(y),R()}},()=>[y.type==="content"?null:e(y.type==="title"?V:y.type==="heading"?x:C,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[y.type==="content"&&y.header?e("div",{class:"content-header"},y.header):null,e("div",Q(y))])])})])})):n.value.emptyResult)}});export{me as default};
